!function(){var process=BrowserFS.BFSRequire("process"),Buffer=BrowserFS.BFSRequire("buffer").Buffer,requirejs,require,define;!function(t){function e(t,e){return _.call(t,e)}function n(t,e){var n,r,a,o,i,s,u,l,c,p,h,f=e&&e.split("/"),d=g.map,v=d&&d["*"]||{};if(t&&"."===t.charAt(0))if(e){for(f=f.slice(0,f.length-1),t=t.split("/"),i=t.length-1,g.nodeIdCompat&&y.test(t[i])&&(t[i]=t[i].replace(y,"")),t=f.concat(t),c=0;c<t.length;c+=1)if(h=t[c],"."===h)t.splice(c,1),c-=1;else if(".."===h){if(1===c&&(".."===t[2]||".."===t[0]))break;c>0&&(t.splice(c-1,2),c-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((f||v)&&d){for(n=t.split("/"),c=n.length;c>0;c-=1){if(r=n.slice(0,c).join("/"),f)for(p=f.length;p>0;p-=1)if(a=d[f.slice(0,p).join("/")],a&&(a=a[r])){o=a,s=c;break}if(o)break;!u&&v&&v[r]&&(u=v[r],l=c)}!o&&u&&(o=u,s=l),o&&(n.splice(0,s,o),t=n.join("/"))}return t}function r(e,n){return function(){var r=m.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),c.apply(t,r.concat([e,n]))}}function a(t){return function(e){return n(e,t)}}function o(t){return function(e){f[t]=e}}function i(n){if(e(d,n)){var r=d[n];delete d[n],v[n]=!0,l.apply(t,r)}if(!e(f,n)&&!e(v,n))throw new Error("No "+n);return f[n]}function s(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function u(t){return function(){return g&&g.config&&g.config[t]||{}}}var l,c,p,h,f={},d={},g={},v={},_=Object.prototype.hasOwnProperty,m=[].slice,y=/\.js$/;p=function(t,e){var r,o=s(t),u=o[0];return t=o[1],u&&(u=n(u,e),r=i(u)),u?t=r&&r.normalize?r.normalize(t,a(e)):n(t,e):(t=n(t,e),o=s(t),u=o[0],t=o[1],u&&(r=i(u))),{f:u?u+"!"+t:t,n:t,pr:u,p:r}},h={require:function(t){return r(t)},exports:function(t){var e=f[t];return"undefined"!=typeof e?e:f[t]={}},module:function(t){return{id:t,uri:"",exports:f[t],config:u(t)}}},l=function(n,a,s,u){var l,c,g,_,m,y,T=[],I=typeof s;if(u=u||n,"undefined"===I||"function"===I){for(a=!a.length&&s.length?["require","exports","module"]:a,m=0;m<a.length;m+=1)if(_=p(a[m],u),c=_.f,"require"===c)T[m]=h.require(n);else if("exports"===c)T[m]=h.exports(n),y=!0;else if("module"===c)l=T[m]=h.module(n);else if(e(f,c)||e(d,c)||e(v,c))T[m]=i(c);else{if(!_.p)throw new Error(n+" missing "+c);_.p.load(_.n,r(u,!0),o(c),{}),T[m]=f[c]}g=s?s.apply(f[n],T):void 0,n&&(l&&l.exports!==t&&l.exports!==f[n]?f[n]=l.exports:g===t&&y||(f[n]=g))}else n&&(f[n]=s)},requirejs=require=c=function(e,n,r,a,o){if("string"==typeof e)return h[e]?h[e](n):i(p(e,n).f);if(!e.splice){if(g=e,g.deps&&c(g.deps,g.callback),!n)return;n.splice?(e=n,n=r,r=null):e=t}return n=n||function(){},"function"==typeof r&&(r=a,a=o),a?l(t,e,n,r):setTimeout(function(){l(t,e,n,r)},4),c},c.config=function(t){return c(t)},requirejs._defined=f,define=function(t,n,r){n.splice||(r=n,n=[]),e(f,t)||e(d,t)||(d[t]=[t,n,r])},define.amd={jQuery:!0}}(),define("vendor/almond/almond",function(){}),define("src/option_parser",["require","exports"],function(t,e){function n(t){l={},c=t;for(var e in c){var n=c[e],r={};for(var a in n){var o=n[a];r[a]=o,null!=o.alias&&(o.aliased_by=a,r[o.alias]=o)}l[e]=r}}function r(t,e,n,r,a){if(!r[n])throw new Error("Unrecognized option '"+e+"'.\n");var o=r[n].aliased_by||n;return a[o]=r[n].has_value?t.pop():"true",t}function a(t){for(var e={standard:{},non_standard:{},properties:{},_:[]},n=t.reverse();n.length>0;){var a=n.pop();if("-"!==a[0]||null!=e.standard.jar){e._=n.reverse(),null!=e.standard.jar?e._.unshift(a):e.className=a;break}if(a.length<=2)n=r(n,a,a.slice(1),l.standard,e.standard);else switch(a[1]){case"X":n=r(n,a,a.slice(2),l.non_standard,e.non_standard);break;case"D":var o=a.slice(2).split("="),i=o[0],s=o[1]||!0;e.properties[i]=s;break;default:n=r(n,a,a.slice(1),l.standard,e.standard)}}for(var u in l)if(l.hasOwnProperty(u)){e.hasOwnProperty(u)||(e[u]={});for(var c in l[u])l[u].hasOwnProperty(c)&&l[u][c].hasOwnProperty("default")&&!e[u].hasOwnProperty(c)&&(e[u][c]=l[u][c].default)}return e}function o(t,e){for(var n=t,r=e-t.length;r-->0;)n+=" ";return n}function i(t,e){var n={},r=0;for(var a in t){var i=t[a],s=[a];null!=i.alias&&s.push(i.alias);var u=s.map(function(t){return"-"+e+t}).join(", ");n[u]=i,u.length>r&&(r=u.length)}var l="";for(a in n){var c=n[a].description;l+="    "+o(a,r)+"    "+c+"\n"}return l}function s(){return i(c.standard,"")}function u(){return i(c.non_standard,"X")}var l=null,c=null;e.describe=n,e.parse=a,e.show_help=s,e.show_non_standard_help=u}),define("src/gLong",["require","exports"],function(){var t=function(){function t(t,e){this.low_=0|t,this.high_=0|e}return t.fromInt=function(e){if(e>=-128&&128>e){var n=t.IntCache_[e];if(n)return n}var r=new t(e,0>e?-1:0);return e>=-128&&128>e&&(t.IntCache_[e]=r),r},t.fromNumber=function(e){return isNaN(e)||!isFinite(e)?t.ZERO:e<=-t.TWO_PWR_63_DBL_?t.MIN_VALUE:e+1>=t.TWO_PWR_63_DBL_?t.MAX_VALUE:0>e?t.fromNumber(-e).negate():new t(e%t.TWO_PWR_32_DBL_|0,e/t.TWO_PWR_32_DBL_|0)},t.fromBits=function(e,n){return new t(e,n)},t.fromString=function(e,n){if(0==e.length)throw Error("number format error: empty string");var r=n||10;if(2>r||r>36)throw Error("radix out of range: "+r);if("-"==e.charAt(0))return t.fromString(e.substring(1),r).negate();if(e.indexOf("-")>=0)throw Error('number format error: interior "-" character: '+e);for(var a=t.fromNumber(Math.pow(r,8)),o=t.ZERO,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),u=parseInt(e.substring(i,i+s),r);if(8>s){var l=t.fromNumber(Math.pow(r,s));o=o.multiply(l).add(t.fromNumber(u))}else o=o.multiply(a),o=o.add(t.fromNumber(u))}return o},t.prototype.toInt=function(){return this.low_},t.prototype.toNumber=function(){return this.high_*t.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},t.prototype.toString=function(e){var n=e||10;if(2>n||n>36)throw Error("radix out of range: "+n);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(t.MIN_VALUE)){var r=t.fromNumber(n),a=this.div(r),o=a.multiply(r).subtract(this);return a.toString(n)+o.toInt().toString(n)}return"-"+this.negate().toString(n)}for(var i=t.fromNumber(Math.pow(n,6)),o=this,s="";;){var u=o.div(i),l=o.subtract(u.multiply(i)).toInt(),c=l.toString(n);if(o=u,o.isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},t.prototype.getHighBits=function(){return this.high_},t.prototype.getLowBits=function(){return this.low_},t.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:t.TWO_PWR_32_DBL_+this.low_},t.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(t.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!=this.high_?this.high_:this.low_,n=31;n>0&&0==(e&1<<n);n--);return 0!=this.high_?n+33:n+1},t.prototype.isZero=function(){return 0==this.high_&&0==this.low_},t.prototype.isNegative=function(){return this.high_<0},t.prototype.isOdd=function(){return 1==(1&this.low_)},t.prototype.equals=function(t){return this.high_==t.high_&&this.low_==t.low_},t.prototype.notEquals=function(t){return this.high_!=t.high_||this.low_!=t.low_},t.prototype.lessThan=function(t){return this.compare(t)<0},t.prototype.lessThanOrEqual=function(t){return this.compare(t)<=0},t.prototype.greaterThan=function(t){return this.compare(t)>0},t.prototype.greaterThanOrEqual=function(t){return this.compare(t)>=0},t.prototype.compare=function(t){if(this.equals(t))return 0;var e=this.isNegative(),n=t.isNegative();return e&&!n?-1:!e&&n?1:this.subtract(t).isNegative()?-1:1},t.prototype.negate=function(){return this.equals(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)},t.prototype.add=function(e){var n=this.high_>>>16,r=65535&this.high_,a=this.low_>>>16,o=65535&this.low_,i=e.high_>>>16,s=65535&e.high_,u=e.low_>>>16,l=65535&e.low_,c=0,p=0,h=0,f=0;return f+=o+l,h+=f>>>16,f&=65535,h+=a+u,p+=h>>>16,h&=65535,p+=r+s,c+=p>>>16,p&=65535,c+=n+i,c&=65535,t.fromBits(h<<16|f,c<<16|p)},t.prototype.subtract=function(t){return this.add(t.negate())},t.prototype.multiply=function(e){if(this.isZero())return t.ZERO;if(e.isZero())return t.ZERO;if(this.equals(t.MIN_VALUE))return e.isOdd()?t.MIN_VALUE:t.ZERO;if(e.equals(t.MIN_VALUE))return this.isOdd()?t.MIN_VALUE:t.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(t.TWO_PWR_24_)&&e.lessThan(t.TWO_PWR_24_))return t.fromNumber(this.toNumber()*e.toNumber());var n=this.high_>>>16,r=65535&this.high_,a=this.low_>>>16,o=65535&this.low_,i=e.high_>>>16,s=65535&e.high_,u=e.low_>>>16,l=65535&e.low_,c=0,p=0,h=0,f=0;return f+=o*l,h+=f>>>16,f&=65535,h+=a*l,p+=h>>>16,h&=65535,h+=o*u,p+=h>>>16,h&=65535,p+=r*l,c+=p>>>16,p&=65535,p+=a*u,c+=p>>>16,p&=65535,p+=o*s,c+=p>>>16,p&=65535,c+=n*l+r*u+a*s+o*i,c&=65535,t.fromBits(h<<16|f,c<<16|p)},t.prototype.div=function(e){if(e.isZero())throw Error("division by zero");if(this.isZero())return t.ZERO;if(this.equals(t.MIN_VALUE)){if(e.equals(t.ONE)||e.equals(t.NEG_ONE))return t.MIN_VALUE;if(e.equals(t.MIN_VALUE))return t.ONE;var n=this.shiftRight(1),r=n.div(e).shiftLeft(1);if(r.equals(t.ZERO))return e.isNegative()?t.ONE:t.NEG_ONE;var a=this.subtract(e.multiply(r)),o=r.add(a.div(e));return o}if(e.equals(t.MIN_VALUE))return t.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();for(var i=t.ZERO,a=this;a.greaterThanOrEqual(e);){var s=Math.max(1,Math.floor(a.toNumber()/e.toNumber())),u=Math.ceil(Math.log(s)/Math.LN2),l=1;u>48&&(l=Math.pow(2,u-48));for(var c=t.fromNumber(s),p=c.multiply(e);p.isNegative()||p.greaterThan(a);)s-=l,c=t.fromNumber(s),p=c.multiply(e);c.isZero()&&(c=t.ONE),i=i.add(c),a=a.subtract(p)}return i},t.prototype.modulo=function(t){return this.subtract(this.div(t).multiply(t))},t.prototype.not=function(){return t.fromBits(~this.low_,~this.high_)},t.prototype.and=function(e){return t.fromBits(this.low_&e.low_,this.high_&e.high_)},t.prototype.or=function(e){return t.fromBits(this.low_|e.low_,this.high_|e.high_)},t.prototype.xor=function(e){return t.fromBits(this.low_^e.low_,this.high_^e.high_)},t.prototype.shiftLeft=function(e){if(e&=63,0==e)return this;var n=this.low_;if(32>e){var r=this.high_;return t.fromBits(n<<e,r<<e|n>>>32-e)}return t.fromBits(0,n<<e-32)},t.prototype.shiftRight=function(e){if(e&=63,0==e)return this;var n=this.high_;if(32>e){var r=this.low_;return t.fromBits(r>>>e|n<<32-e,n>>e)}return t.fromBits(n>>e-32,n>=0?0:-1)},t.prototype.shiftRightUnsigned=function(e){if(e&=63,0==e)return this;var n=this.high_;if(32>e){var r=this.low_;return t.fromBits(r>>>e|n<<32-e,n>>>e)}return 32==e?t.fromBits(n,0):t.fromBits(n>>>e-32,0)},t.IntCache_={},t.TWO_PWR_16_DBL_=65536,t.TWO_PWR_24_DBL_=1<<24,t.TWO_PWR_32_DBL_=t.TWO_PWR_16_DBL_*t.TWO_PWR_16_DBL_,t.TWO_PWR_31_DBL_=t.TWO_PWR_32_DBL_/2,t.TWO_PWR_48_DBL_=t.TWO_PWR_32_DBL_*t.TWO_PWR_16_DBL_,t.TWO_PWR_64_DBL_=t.TWO_PWR_32_DBL_*t.TWO_PWR_32_DBL_,t.TWO_PWR_63_DBL_=t.TWO_PWR_64_DBL_/2,t.ZERO=t.fromInt(0),t.ONE=t.fromInt(1),t.NEG_ONE=t.fromInt(-1),t.MAX_VALUE=t.fromBits(4294967295,2147483647),t.MIN_VALUE=t.fromBits(0,2147483648),t.TWO_PWR_24_=t.fromInt(t.TWO_PWR_24_DBL_),t}();return t}),define("src/enums",["require","exports"],function(t,e){function n(t,e){e.forEach(function(e){r[e]=t})}!function(t){t[t.NOT_LOADED=0]="NOT_LOADED",t[t.LOADED=1]="LOADED",t[t.RESOLVED=2]="RESOLVED",t[t.INITIALIZED=3]="INITIALIZED"}(e.ClassState||(e.ClassState={}));e.ClassState;!function(t){t[t.NEW=0]="NEW",t[t.RUNNING=1]="RUNNING",t[t.RUNNABLE=2]="RUNNABLE",t[t.BLOCKED=3]="BLOCKED",t[t.UNINTERRUPTABLY_BLOCKED=4]="UNINTERRUPTABLY_BLOCKED",t[t.WAITING=5]="WAITING",t[t.TIMED_WAITING=6]="TIMED_WAITING",t[t.ASYNC_WAITING=7]="ASYNC_WAITING",t[t.PARKED=8]="PARKED",t[t.TERMINATED=9]="TERMINATED"}(e.ThreadStatus||(e.ThreadStatus={}));e.ThreadStatus;!function(t){t[t.ALIVE=1]="ALIVE",t[t.TERMINATED=2]="TERMINATED",t[t.RUNNABLE=4]="RUNNABLE",t[t.BLOCKED_ON_MONITOR_ENTER=1024]="BLOCKED_ON_MONITOR_ENTER",t[t.WAITING_INDEFINITELY=16]="WAITING_INDEFINITELY",t[t.WAITING_WITH_TIMEOUT=32]="WAITING_WITH_TIMEOUT"}(e.JVMTIThreadState||(e.JVMTIThreadState={}));e.JVMTIThreadState;!function(t){t[t.INTERNAL=0]="INTERNAL",t[t.BYTECODE=1]="BYTECODE",t[t.NATIVE=2]="NATIVE"}(e.StackFrameType||(e.StackFrameType={}));e.StackFrameType;!function(t){t[t.INT_MAX=Math.pow(2,31)-1]="INT_MAX",t[t.INT_MIN=-t.INT_MAX-1]="INT_MIN",t[t.FLOAT_POS_INFINITY=Math.pow(2,128)]="FLOAT_POS_INFINITY",t[t.FLOAT_NEG_INFINITY=-1*t.FLOAT_POS_INFINITY]="FLOAT_NEG_INFINITY",t[t.FLOAT_POS_INFINITY_AS_INT=2139095040]="FLOAT_POS_INFINITY_AS_INT",t[t.FLOAT_NEG_INFINITY_AS_INT=-8388608]="FLOAT_NEG_INFINITY_AS_INT",t[t.FLOAT_NaN_AS_INT=2143289344]="FLOAT_NaN_AS_INT"}(e.Constants||(e.Constants={}));e.Constants;!function(t){t[t.CLASS=7]="CLASS",t[t.FIELDREF=9]="FIELDREF",t[t.METHODREF=10]="METHODREF",t[t.INTERFACE_METHODREF=11]="INTERFACE_METHODREF",t[t.STRING=8]="STRING",t[t.INTEGER=3]="INTEGER",t[t.FLOAT=4]="FLOAT",t[t.LONG=5]="LONG",t[t.DOUBLE=6]="DOUBLE",t[t.NAME_AND_TYPE=12]="NAME_AND_TYPE",t[t.UTF8=1]="UTF8",t[t.METHOD_HANDLE=15]="METHOD_HANDLE",t[t.METHOD_TYPE=16]="METHOD_TYPE",t[t.INVOKE_DYNAMIC=18]="INVOKE_DYNAMIC"}(e.ConstantPoolItemType||(e.ConstantPoolItemType={}));e.ConstantPoolItemType;!function(t){t[t.SAME_FRAME=0]="SAME_FRAME",t[t.SAME_LOCALS_1_STACK_ITEM_FRAME=1]="SAME_LOCALS_1_STACK_ITEM_FRAME",t[t.SAME_LOCALS_1_STACK_ITEM_FRAME_EXTENDED=2]="SAME_LOCALS_1_STACK_ITEM_FRAME_EXTENDED",t[t.CHOP_FRAME=3]="CHOP_FRAME",t[t.SAME_FRAME_EXTENDED=4]="SAME_FRAME_EXTENDED",t[t.APPEND_FRAME=5]="APPEND_FRAME",t[t.FULL_FRAME=6]="FULL_FRAME"}(e.StackMapTableEntryType||(e.StackMapTableEntryType={}));e.StackMapTableEntryType;!function(t){t[t.GETFIELD=1]="GETFIELD",t[t.GETSTATIC=2]="GETSTATIC",t[t.PUTFIELD=3]="PUTFIELD",t[t.PUTSTATIC=4]="PUTSTATIC",t[t.INVOKEVIRTUAL=5]="INVOKEVIRTUAL",t[t.INVOKESTATIC=6]="INVOKESTATIC",t[t.INVOKESPECIAL=7]="INVOKESPECIAL",t[t.NEWINVOKESPECIAL=8]="NEWINVOKESPECIAL",t[t.INVOKEINTERFACE=9]="INVOKEINTERFACE"}(e.MethodHandleReferenceKind||(e.MethodHandleReferenceKind={}));e.MethodHandleReferenceKind;e.FormatChars={BOLD:["[1m","[22m"],ITALICS:["[3m","[23m"],UNDERLINE:["[4m","[24m"],INVERSE:["[7m","[27m"],STRIKETHROUGH:["[9m","[29m"],WHITE:["[37m","[39m"],GREY:["[90m","[39m"],BLACK:["[30m","[39m"],BLUE:["[34m","[39m"],CYAN:["[36m","[39m"],GREEN:["[32m","[39m"],MAGENTA:["[35m","[39m"],RED:["[31m","[39m"],YELLOW:["[33m","[39m"],WHITE_BG:["[47m","[49m"],GREY_BG:["[49;5;8m","[49m"],BLACK_BG:["[40m","[49m"],BLUE_BG:["[44m","[49m"],CYAN_BG:["[46m","[49m"],GREEN_BG:["[42m","[49m"],MAGENTA_BG:["[45m","[49m"],RED_BG:["[41m","[49m"],YELLOW_BG:["[43m","[49m"]},function(t){t[t.AALOAD=50]="AALOAD",t[t.AASTORE=83]="AASTORE",t[t.ACONST_NULL=1]="ACONST_NULL",t[t.ALOAD=25]="ALOAD",t[t.ALOAD_0=42]="ALOAD_0",t[t.ALOAD_1=43]="ALOAD_1",t[t.ALOAD_2=44]="ALOAD_2",t[t.ALOAD_3=45]="ALOAD_3",t[t.ANEWARRAY=189]="ANEWARRAY",t[t.ARETURN=176]="ARETURN",t[t.ARRAYLENGTH=190]="ARRAYLENGTH",t[t.ASTORE=58]="ASTORE",t[t.ASTORE_0=75]="ASTORE_0",t[t.ASTORE_1=76]="ASTORE_1",t[t.ASTORE_2=77]="ASTORE_2",t[t.ASTORE_3=78]="ASTORE_3",t[t.ATHROW=191]="ATHROW",t[t.BALOAD=51]="BALOAD",t[t.BASTORE=84]="BASTORE",t[t.BIPUSH=16]="BIPUSH",t[t.BREAKPOINT=202]="BREAKPOINT",t[t.CALOAD=52]="CALOAD",t[t.CASTORE=85]="CASTORE",t[t.CHECKCAST=192]="CHECKCAST",t[t.D2F=144]="D2F",t[t.D2I=142]="D2I",t[t.D2L=143]="D2L",t[t.DADD=99]="DADD",t[t.DALOAD=49]="DALOAD",t[t.DASTORE=82]="DASTORE",t[t.DCMPG=152]="DCMPG",t[t.DCMPL=151]="DCMPL",t[t.DCONST_0=14]="DCONST_0",t[t.DCONST_1=15]="DCONST_1",t[t.DDIV=111]="DDIV",t[t.DLOAD=24]="DLOAD",t[t.DLOAD_0=38]="DLOAD_0",t[t.DLOAD_1=39]="DLOAD_1",t[t.DLOAD_2=40]="DLOAD_2",t[t.DLOAD_3=41]="DLOAD_3",t[t.DMUL=107]="DMUL",t[t.DNEG=119]="DNEG",t[t.DREM=115]="DREM",t[t.DRETURN=175]="DRETURN",t[t.DSTORE=57]="DSTORE",t[t.DSTORE_0=71]="DSTORE_0",t[t.DSTORE_1=72]="DSTORE_1",t[t.DSTORE_2=73]="DSTORE_2",t[t.DSTORE_3=74]="DSTORE_3",t[t.DSUB=103]="DSUB",t[t.DUP=89]="DUP",t[t.DUP_X1=90]="DUP_X1",t[t.DUP_X2=91]="DUP_X2",t[t.DUP2=92]="DUP2",t[t.DUP2_X1=93]="DUP2_X1",t[t.DUP2_X2=94]="DUP2_X2",t[t.F2D=141]="F2D",t[t.F2I=139]="F2I",t[t.F2L=140]="F2L",t[t.FADD=98]="FADD",t[t.FALOAD=48]="FALOAD",t[t.FASTORE=81]="FASTORE",t[t.FCMPG=150]="FCMPG",t[t.FCMPL=149]="FCMPL",t[t.FCONST_0=11]="FCONST_0",t[t.FCONST_1=12]="FCONST_1",t[t.FCONST_2=13]="FCONST_2",t[t.FDIV=110]="FDIV",t[t.FLOAD=23]="FLOAD",t[t.FLOAD_0=34]="FLOAD_0",t[t.FLOAD_1=35]="FLOAD_1",t[t.FLOAD_2=36]="FLOAD_2",t[t.FLOAD_3=37]="FLOAD_3",t[t.FMUL=106]="FMUL",t[t.FNEG=118]="FNEG",t[t.FREM=114]="FREM",t[t.FRETURN=174]="FRETURN",t[t.FSTORE=56]="FSTORE",t[t.FSTORE_0=67]="FSTORE_0",t[t.FSTORE_1=68]="FSTORE_1",t[t.FSTORE_2=69]="FSTORE_2",t[t.FSTORE_3=70]="FSTORE_3",t[t.FSUB=102]="FSUB",t[t.GETFIELD=180]="GETFIELD",t[t.GETSTATIC=178]="GETSTATIC",t[t.GOTO=167]="GOTO",t[t.GOTO_W=200]="GOTO_W",t[t.I2B=145]="I2B",t[t.I2C=146]="I2C",t[t.I2D=135]="I2D",t[t.I2F=134]="I2F",t[t.I2L=133]="I2L",t[t.I2S=147]="I2S",t[t.IADD=96]="IADD",t[t.IALOAD=46]="IALOAD",t[t.IAND=126]="IAND",t[t.IASTORE=79]="IASTORE",t[t.ICONST_M1=2]="ICONST_M1",t[t.ICONST_0=3]="ICONST_0",t[t.ICONST_1=4]="ICONST_1",t[t.ICONST_2=5]="ICONST_2",t[t.ICONST_3=6]="ICONST_3",t[t.ICONST_4=7]="ICONST_4",t[t.ICONST_5=8]="ICONST_5",t[t.IDIV=108]="IDIV",t[t.IF_ACMPEQ=165]="IF_ACMPEQ",t[t.IF_ACMPNE=166]="IF_ACMPNE",t[t.IF_ICMPEQ=159]="IF_ICMPEQ",t[t.IF_ICMPGE=162]="IF_ICMPGE",t[t.IF_ICMPGT=163]="IF_ICMPGT",t[t.IF_ICMPLE=164]="IF_ICMPLE",t[t.IF_ICMPLT=161]="IF_ICMPLT",t[t.IF_ICMPNE=160]="IF_ICMPNE",t[t.IFEQ=153]="IFEQ",t[t.IFGE=156]="IFGE",t[t.IFGT=157]="IFGT",t[t.IFLE=158]="IFLE",t[t.IFLT=155]="IFLT",t[t.IFNE=154]="IFNE",t[t.IFNONNULL=199]="IFNONNULL",t[t.IFNULL=198]="IFNULL",t[t.IINC=132]="IINC",t[t.ILOAD=21]="ILOAD",t[t.ILOAD_0=26]="ILOAD_0",t[t.ILOAD_1=27]="ILOAD_1",t[t.ILOAD_2=28]="ILOAD_2",t[t.ILOAD_3=29]="ILOAD_3",t[t.IMUL=104]="IMUL",t[t.INEG=116]="INEG",t[t.INSTANCEOF=193]="INSTANCEOF",t[t.INVOKEDYNAMIC=186]="INVOKEDYNAMIC",t[t.INVOKEINTERFACE=185]="INVOKEINTERFACE",t[t.INVOKESPECIAL=183]="INVOKESPECIAL",t[t.INVOKESTATIC=184]="INVOKESTATIC",t[t.INVOKEVIRTUAL=182]="INVOKEVIRTUAL",t[t.IOR=128]="IOR",t[t.IREM=112]="IREM",t[t.IRETURN=172]="IRETURN",t[t.ISHL=120]="ISHL",t[t.ISHR=122]="ISHR",t[t.ISTORE=54]="ISTORE",t[t.ISTORE_0=59]="ISTORE_0",t[t.ISTORE_1=60]="ISTORE_1",t[t.ISTORE_2=61]="ISTORE_2",t[t.ISTORE_3=62]="ISTORE_3",t[t.ISUB=100]="ISUB",t[t.IUSHR=124]="IUSHR",t[t.IXOR=130]="IXOR",t[t.JSR=168]="JSR",t[t.JSR_W=201]="JSR_W",t[t.L2D=138]="L2D",t[t.L2F=137]="L2F",t[t.L2I=136]="L2I",t[t.LADD=97]="LADD",t[t.LALOAD=47]="LALOAD",t[t.LAND=127]="LAND",t[t.LASTORE=80]="LASTORE",t[t.LCMP=148]="LCMP",t[t.LCONST_0=9]="LCONST_0",t[t.LCONST_1=10]="LCONST_1",t[t.LDC=18]="LDC",t[t.LDC_W=19]="LDC_W",t[t.LDC2_W=20]="LDC2_W",t[t.LDIV=109]="LDIV",t[t.LLOAD=22]="LLOAD",t[t.LLOAD_0=30]="LLOAD_0",t[t.LLOAD_1=31]="LLOAD_1",t[t.LLOAD_2=32]="LLOAD_2",t[t.LLOAD_3=33]="LLOAD_3",t[t.LMUL=105]="LMUL",t[t.LNEG=117]="LNEG",t[t.LOOKUPSWITCH=171]="LOOKUPSWITCH",t[t.LOR=129]="LOR",t[t.LREM=113]="LREM",t[t.LRETURN=173]="LRETURN",t[t.LSHL=121]="LSHL",t[t.LSHR=123]="LSHR",t[t.LSTORE=55]="LSTORE",t[t.LSTORE_0=63]="LSTORE_0",t[t.LSTORE_1=64]="LSTORE_1",t[t.LSTORE_2=65]="LSTORE_2",t[t.LSTORE_3=66]="LSTORE_3",t[t.LSUB=101]="LSUB",t[t.LUSHR=125]="LUSHR",t[t.LXOR=131]="LXOR",t[t.MONITORENTER=194]="MONITORENTER",t[t.MONITOREXIT=195]="MONITOREXIT",t[t.MULTIANEWARRAY=197]="MULTIANEWARRAY",t[t.NEW=187]="NEW",t[t.NEWARRAY=188]="NEWARRAY",t[t.NOP=0]="NOP",t[t.POP=87]="POP",t[t.POP2=88]="POP2",t[t.PUTFIELD=181]="PUTFIELD",t[t.PUTSTATIC=179]="PUTSTATIC",t[t.RET=169]="RET",t[t.RETURN=177]="RETURN",t[t.SALOAD=53]="SALOAD",t[t.SASTORE=86]="SASTORE",t[t.SIPUSH=17]="SIPUSH",t[t.SWAP=95]="SWAP",t[t.TABLESWITCH=170]="TABLESWITCH",t[t.WIDE=196]="WIDE",t[t.GETSTATIC_FAST32=208]="GETSTATIC_FAST32",t[t.GETSTATIC_FAST64=209]="GETSTATIC_FAST64",t[t.NEW_FAST=210]="NEW_FAST",t[t.NEW_CL_FAST=211]="NEW_CL_FAST",t[t.NEW_THREAD_FAST=212]="NEW_THREAD_FAST",t[t.ANEWARRAY_FAST=213]="ANEWARRAY_FAST",t[t.CHECKCAST_FAST=214]="CHECKCAST_FAST",t[t.INSTANCEOF_FAST=215]="INSTANCEOF_FAST",t[t.MULTIANEWARRAY_FAST=216]="MULTIANEWARRAY_FAST",t[t.PUTSTATIC_FAST32=217]="PUTSTATIC_FAST32",t[t.PUTSTATIC_FAST64=218]="PUTSTATIC_FAST64",t[t.GETFIELD_FAST32=219]="GETFIELD_FAST32",t[t.GETFIELD_FAST64=220]="GETFIELD_FAST64",t[t.PUTFIELD_FAST32=221]="PUTFIELD_FAST32",t[t.PUTFIELD_FAST64=222]="PUTFIELD_FAST64",t[t.INVOKESPECIAL_FAST=223]="INVOKESPECIAL_FAST",t[t.INVOKESTATIC_FAST=240]="INVOKESTATIC_FAST",t[t.INVOKEVIRTUAL_FAST=241]="INVOKEVIRTUAL_FAST",t[t.INVOKEINTERFACE_FAST=242]="INVOKEINTERFACE_FAST",t[t.INVOKEHANDLE=243]="INVOKEHANDLE",t[t.INVOKEBASIC=244]="INVOKEBASIC",t[t.LINKTOSPECIAL=245]="LINKTOSPECIAL",t[t.LINKTOINTERFACE=246]="LINKTOINTERFACE",t[t.LINKTOVIRTUAL=247]="LINKTOVIRTUAL",t[t.INVOKEDYNAMIC_FAST=248]="INVOKEDYNAMIC_FAST"}(e.OpCode||(e.OpCode={}));e.OpCode;!function(t){t[t.OPCODE_ONLY=0]="OPCODE_ONLY",t[t.CONSTANT_POOL_UINT8=1]="CONSTANT_POOL_UINT8",t[t.CONSTANT_POOL=2]="CONSTANT_POOL",t[t.CONSTANT_POOL_AND_UINT8_VALUE=3]="CONSTANT_POOL_AND_UINT8_VALUE",t[t.UINT8_VALUE=4]="UINT8_VALUE",t[t.UINT8_AND_INT8_VALUE=5]="UINT8_AND_INT8_VALUE",t[t.INT8_VALUE=6]="INT8_VALUE",t[t.INT16_VALUE=7]="INT16_VALUE",t[t.INT32_VALUE=8]="INT32_VALUE",t[t.ARRAY_TYPE=9]="ARRAY_TYPE",t[t.WIDE=10]="WIDE"}(e.OpcodeLayoutType||(e.OpcodeLayoutType={}));var r=(e.OpcodeLayoutType,new Array(255));!function(){for(var t=0;255>t;t++)r[t]=0}(),n(4,[25,58,24,57,23,56,21,54,22,55,169]),n(1,[18]),n(2,[19,20,189,192,180,178,193,186,183,184,182,187,181,179,216,223,240,214,210,211,212,213,215,208,209,217,218,221,222,219,220,241]),n(3,[185,197,242]),n(6,[16]),n(7,[17,167,157,153,156,158,155,154,198,199,164,165,166,159,162,163,161,160,168]),n(8,[200,201]),n(5,[132]),n(9,[188]),e.OpcodeLayouts=r}),define("src/util",["require","exports","./gLong","./enums"],function(t,e,n,r){function a(){return"browser"===process.platform}function o(t,e,n){function r(o){o?n(o):(a++,a<t.length?e(t[a],r):n())}var a=-1;r()}function i(t,e){function n(a){a?e(a):(r++,r<t.length?t[r](n):e())}var r=-1;n()}function s(t,e,n){function r(o){o?n(t[a]):(a++,a<t.length?e(t[a],r):n())}var a=-1;r(!1)}function u(t,e){for(var n=new Array(t),r=0;t>r;r++)n[r]=e;return n}function l(t){return t>r.Constants.INT_MAX?r.Constants.INT_MAX:t<r.Constants.INT_MIN?r.Constants.INT_MIN:0|t}function c(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length);var r,a=new Buffer(n);for(r=0;n>r;r++)a.writeInt8(t[e+r],r);return a}function p(t){return t>3.4028234663852886e38?Number.POSITIVE_INFINITY:t>0&&1.401298464324817e-45>t?0:-3.4028234663852886e38>t?Number.NEGATIVE_INFINITY:0>t&&t>-1.401298464324817e-45?0:t}function h(t,e,n){var r=e||0;return S(t.array).substr(r,n)}function f(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function d(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e}function g(t){if("J"===t)return n.ZERO;var e=t[0];return"["===e||"L"===e?null:0}function v(t){return C(t).replace(/\//g,".")}function _(t){return A(t.replace(/\./g,"/"))}function m(t){var n=t.match(/^\[*/)[0].length;if(n>255)return!1;if(n>0&&(t=t.slice(n)),"L"===t[0]){if(";"!==t[t.length-1])return!1;t=t.slice(1,-1)}if(t in e.internal2external)return!0;if(t.match(/\/{2,}/))return!1;for(var r=t.split("/"),a=0;a<r.length;a++)if(r[a].match(/[^$_a-z0-9]/i))return!1;return!0}function y(t){var e,n=0,r=[];for(n=0;n<t.length;n++)switch(t.charAt(n)){case"(":case")":break;case"L":e=t.indexOf(";",n),r.push(t.slice(n,e+1)),n=e;break;case"[":for(e=n+1;"["===t.charAt(e);)e++;"L"===t.charAt(e)?(e=t.indexOf(";",e),r.push(t.slice(n,e+1))):r.push(t.slice(n,e+1)),n=e;break;default:r.push(t.charAt(n))}return r}function T(t){return t.slice(1)}function I(t){return"["===t[0]}function L(t){return t in e.internal2external}function E(t){return"L"===t[0]}function C(t){var n=t[0];if(n in e.internal2external)return e.internal2external[n];if("L"===n)return t.slice(1,-1);if("["===n)return t;throw new Error("Unrecognized type string: "+t)}function N(t){var n=t.shift();if(null==n)return null;if(void 0!==e.internal2external[n])return n;if("L"===n){for(var r="L";";"!==(n=t.shift());)r+=n;return r+";"}if("["===n)return"["+N(t);throw t.unshift(n),new Error("Unrecognized descriptor: "+t.join(""))}function A(t){return void 0!==e.external2internal[t]?e.external2internal[t]:"["===t[0]?t:"L"+t+";"}function S(t,e){for(var n,r,a=0,o="";a<t.length;){var i=255&t[a++];if(e&&0==i)break;o+=String.fromCharCode(127>=i?i:223>=i?(n=t[a++],((31&i)<<6)+(63&n)):(n=t[a++],r=t[a++],((15&i)<<12)+((63&n)<<6)+(63&r)))}return o}function b(t,e,n){var r,a,o,i=[];for(r=0;r<e.length;r++)a=e[r],o=n[r],L(a)?(i.push(o.get_field(t,o.cls.getInternalName()+"value")),("J"===a||"D"===a)&&i.push(null)):i.push(o);return i}function O(t,e,n,r){e.initializeClass(t,"Ljava/lang/invoke/MethodHandleNatives;",function(a){if(null!==a){var o=a.methodLookup(t,"findMethodHandleType(Ljava/lang/Class;[Ljava/lang/Class;)Ljava/lang/invoke/MethodType;"),i=y(n);i.push("[Ljava/lang/Class;"),e.resolveClasses(t,i,function(e){var n=i.map(function(n){return e[n].getClassObject(t)});n.pop();var a=n.pop(),s=e["[Ljava/lang/Class;"].create(n);t.runMethod(o,[a,s],function(e,n){e?t.throwException(e):r(null,n)})})}})}function k(t,e){var n="(";return void 0!==e&&null!==e&&e.array.forEach(function(t){n+=t.$cls.getInternalName()}),n+=")"+t.$cls.getInternalName()}e.are_in_browser=a,e.asyncForEach=o,e.asyncSeries=i,e.asyncFind=s,null==Math.imul&&(Math.imul=function(t,e){var n=t>>>16&65535,r=65535&t,a=e>>>16&65535,o=65535&e;return r*o+(n*o+r*a<<16>>>0)|0}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){if(null==this)throw new TypeError;var n=Object(this),r=n.length>>>0;if(0===r)return-1;var a=0;if(void 0!==e&&(a=Number(e),a!=a?a=0:0!=a&&1/0!=a&&a!=-1/0&&(a=((a>0?1:0)||-1)*Math.floor(Math.abs(a)))),a>=r)return-1;for(var o=a>=0?a:Math.max(r-Math.abs(a),0);r>o;o++)if(o in n&&n[o]===t)return o;return-1}),e.arrayset=u,e.float2int=l,e.byteArray2Buffer=c,e.wrapFloat=p,e.chars2jsStr=h,e.bytestr2Array=f,e.array2bytestr=d,function(t){t[t.PUBLIC=1]="PUBLIC",t[t.PRIVATE=2]="PRIVATE",t[t.PROTECTED=4]="PROTECTED",t[t.STATIC=8]="STATIC",t[t.FINAL=16]="FINAL",t[t.SYNCHRONIZED=32]="SYNCHRONIZED",t[t.SUPER=32]="SUPER",t[t.VOLATILE=64]="VOLATILE",t[t.TRANSIENT=128]="TRANSIENT",t[t.VARARGS=128]="VARARGS",t[t.NATIVE=256]="NATIVE",t[t.INTERFACE=512]="INTERFACE",t[t.ABSTRACT=1024]="ABSTRACT",t[t.STRICT=2048]="STRICT"}(e.FlagMasks||(e.FlagMasks={}));var w=(e.FlagMasks,function(){function t(t){this.byte=t}return t.prototype.isPublic=function(){return(1&this.byte)>0},t.prototype.isPrivate=function(){return(2&this.byte)>0},t.prototype.isProtected=function(){return(4&this.byte)>0},t.prototype.isStatic=function(){return(8&this.byte)>0},t.prototype.isFinal=function(){return(16&this.byte)>0},t.prototype.isSynchronized=function(){return(32&this.byte)>0},t.prototype.isSuper=function(){return(32&this.byte)>0},t.prototype.isVolatile=function(){return(64&this.byte)>0},t.prototype.isTransient=function(){return(128&this.byte)>0},t.prototype.isNative=function(){return(256&this.byte)>0},t.prototype.isInterface=function(){return(512&this.byte)>0},t.prototype.isAbstract=function(){return(1024&this.byte)>0},t.prototype.isStrict=function(){return(2048&this.byte)>0},t.prototype.setNative=function(t){this.byte=t?256|this.byte:-257&this.byte},t.prototype.isVarArgs=function(){return(128&this.byte)>0},t.prototype.getRawByte=function(){return this.byte},t}());e.Flags=w,e.initialValue=g,e.ext_classname=v,e.int_classname=_,e.verify_int_classname=m,e.internal2external={B:"byte",C:"char",D:"double",F:"float",I:"int",J:"long",S:"short",V:"void",Z:"boolean"},e.external2internal={};for(var F in e.internal2external)e.external2internal[e.internal2external[F]]=F;e.getTypes=y,e.get_component_type=T,e.is_array_type=I,e.is_primitive_type=L,e.is_reference_type=E,e.descriptor2typestr=C,e.carr2descriptor=N,e.typestr2descriptor=A,e.bytes2str=S,e.unboxArguments=b,e.createMethodType=O,e.getDescriptorString=k}),define("src/SafeMap",["require","exports"],function(){var t=function(){function t(){this.cache=Object.create(null)}return t.prototype.fixKey=function(t){return";"+t},t.prototype.get=function(t){return t=this.fixKey(t),void 0!==this.cache[t]?this.cache[t]:void 0},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){this.cache[this.fixKey(t)]=e},t}();return t}),define("src/assert",["require","exports"],function(){function t(t,e){if(!t)throw new Error("Assertion failed: "+e)}return t}),define("src/ByteStream",["require","exports","./gLong","./assert"],function(t,e,n){var r=function(){function t(t){this.buffer=t,this._index=0}return t.prototype.incIndex=function(t){var e=this._index;return this._index+=t,e},t.prototype.rewind=function(){this._index=0},t.prototype.seek=function(t){this._index=t},t.prototype.pos=function(){return this._index},t.prototype.skip=function(t){this._index+=t},t.prototype.hasBytes=function(){return this._index<this.buffer.length},t.prototype.getFloat=function(){return this.buffer.readFloatBE(this.incIndex(4))},t.prototype.getDouble=function(){return this.buffer.readDoubleBE(this.incIndex(8))},t.prototype.getUint=function(t){switch(t){case 1:return this.getUint8();case 2:return this.getUint16();case 4:return this.getUint32();default:throw new Error("Invalid byte count for getUint: "+t)}},t.prototype.getInt=function(t){switch(t){case 1:return this.getInt8();case 2:return this.getInt16();case 4:return this.getInt32();default:throw new Error("Invalid byte count for getUint: "+t)}},t.prototype.getUint8=function(){return this.buffer.readUInt8(this.incIndex(1))},t.prototype.getUint16=function(){return this.buffer.readUInt16BE(this.incIndex(2))},t.prototype.getUint32=function(){return this.buffer.readUInt32BE(this.incIndex(4))},t.prototype.getInt8=function(){return this.buffer.readInt8(this.incIndex(1))},t.prototype.getInt16=function(){return this.buffer.readInt16BE(this.incIndex(2))},t.prototype.getInt32=function(){return this.buffer.readInt32BE(this.incIndex(4))},t.prototype.getInt64=function(){var t=this.getUint32(),e=this.getUint32();return n.fromBits(e,t)},t.prototype.read=function(t){for(var e=[],n=this._index+t,r=this._index;n>r;r++)e.push(this.buffer.readUInt8(r));return this._index+=t,e},t.prototype.peek=function(){return this.buffer.readUInt8(this._index)},t.prototype.size=function(){return this.buffer.length-this._index},t.prototype.slice=function(e){var n=new t(this.buffer.slice(this._index,this._index+e));return this._index+=e,n},t.prototype.getBuffer=function(){return this.buffer},t}();return r}),define("src/ConstantPool",["require","exports","./util","./enums","./assert"],function(t,e,n){function r(t){for(var e="name",n=0,r=0;r<t.length;r++){var a=t[r];switch(e){case"name":"("===a&&(e="type");break;case"type":if(")"===a)return n;"J"===a||"D"===a?n+=2:++n,"L"===a?e="class":"["===a&&(e="array");break;case"class":";"===a&&(e="type");break;case"array":"L"===a?e="class":"["!==a&&(e="type")}}}var a={},o=function(){function t(t){this.value=t}return t.prototype.getType=function(){return 1},t.fromBytes=function(t){var e=t.getUint16();return new this(n.bytes2str(t.read(e)))},t.size=1,t.infoByteSize=0,t}();e.ConstUTF8=o,a[1]=o;var i=function(){function t(t){this.value=t}return t.prototype.getType=function(){return 3},t.fromBytes=function(t){return new this(t.getInt32())},t.size=1,t.infoByteSize=4,t}();e.ConstInt32=i,a[3]=i;var s=function(){function t(t){this.value=t}return t.prototype.getType=function(){return 4},t.fromBytes=function(t){return new this(t.getFloat())},t.size=1,t.infoByteSize=4,t}();e.ConstFloat=s,a[4]=s;var u=function(){function t(t){this.value=t}return t.prototype.getType=function(){return 5},t.fromBytes=function(t){return new this(t.getInt64())},t.size=2,t.infoByteSize=8,t}();e.ConstLong=u,a[5]=u;var l=function(){function t(t){this.value=t}return t.prototype.getType=function(){return 6},t.fromBytes=function(t){return new this(t.getDouble())},t.size=2,t.infoByteSize=8,t
}();e.ConstDouble=l,a[6]=l;var c=function(){function t(t){this.cls=null,this.arrayClass=null,this.name=t}return t.prototype.getType=function(){return 7},t.prototype.tryGetClass=function(t){return null===this.cls&&(this.cls=t.getResolvedClass(this.name)),this.cls},t.prototype.getClass=function(t,e,n,r){var a=this;return void 0===r&&(r=!0),null!==this.cls?void setImmediate(function(){return n(a.cls)}):void e.resolveClass(t,this.name,function(t){a.cls=t,n(t)},r)},t.prototype.getArrayClass=function(t){return null===this.arrayClass&&(this.arrayClass=t.getResolvedClass("["+this.name)),this.arrayClass},t.fromBytes=function(t,e){var r=t.getUint16(),a=e.get(r);return new this(n.typestr2descriptor(a.value))},t.size=1,t.infoByteSize=2,t}();e.ClassReference=c,a[7]=c;var p=function(){function t(t,e){this.type=null,this.name=t,this.descriptor=e}return t.prototype.getType=function(){return 12},t.prototype.getMethodType=function(t,e,r){var a=this;null!==this.type?r(null,this.type):n.createMethodType(t,e,this.descriptor,function(t,e){a.type=e,r(t,e)})},t.prototype.getFieldType=function(t,e,n){null!==this.type?n(null,this.type):e.initializeClass(t,this.descriptor,function(e){null!==e&&n(null,e.getClassObject(t))})},t.fromBytes=function(t,e){var n=t.getUint16(),r=t.getUint16(),a=e.get(n),o=e.get(r);return new this(a.value,o.value)},t.size=1,t.infoByteSize=4,t}();e.NameAndTypeInfo=p,a[12]=p;var h=function(){function t(t){this.value=null,this.stringValue=t}return t.prototype.getType=function(){return 8},t.fromBytes=function(t,e){var n=t.getUint16(),r=e.get(n);return new this(r.value)},t.size=1,t.infoByteSize=2,t}();e.ConstString=h,a[8]=h;var f=function(){function t(t){this.type=null,this.descriptor=t}return t.prototype.getType=function(){return 16},t.prototype.getMethodType=function(t,e,r){var a=this;null!==this.type?r(null,this.type):n.createMethodType(t,e,this.descriptor,function(t,e){a.type=e,r(t,e)})},t.fromBytes=function(t,e){var n=t.getUint16(),r=e.get(n);return new this(r.value)},t.size=1,t.infoByteSize=2,t}();e.MethodType=f,a[16]=f;var d=function(){function t(t,e){this.method=null,this.paramWordSize=-1,this.memberName=null,this.appendix=null,this.classInfo=t,this.methodSignature=e.name+e.descriptor,this.nameAndTypeInfo=e}return t.prototype.getType=function(){return 10},t.prototype.getMethodHandleType=function(t,e,n){this.nameAndTypeInfo.getMethodType(t,e,n)},t.prototype.ensureMethodSet=function(t){return null!==this.method?!0:(null!==this.classInfo.cls&&(this.method=this.classInfo.cls.methodLookup(t,this.nameAndTypeInfo.name+this.nameAndTypeInfo.descriptor)),null!==this.method)},t.prototype.resolveMemberName=function(t,e,n,r){var a=this;if(this.memberName)return void setImmediate(function(){return r(null)});var o=t.getBsCl().getInitializedClass(t,"Ljava/lang/invoke/MethodHandleNatives;").methodLookup(t,"linkMethod(Ljava/lang/Class;ILjava/lang/Class;Ljava/lang/String;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/invoke/MemberName;"),i=t.getBsCl().getInitializedClass(t,"[Ljava/lang/Object;").create([null]),s=function(){t.runMethod(o,[n.getClassObject(t),5,a.classInfo.cls.getClassObject(t),t.getThreadPool().getJVM().internString(a.nameAndTypeInfo.name),a.nameAndTypeInfo.type,i],function(t,e){null!==t?r(t):(a.appendix=i.array[0],a.memberName=e,r(null))})};null!==this.nameAndTypeInfo.type?s():this.nameAndTypeInfo.getMethodType(t,e,function(t){t?r(t):s()})},t.fromBytes=function(t,e){var n=t.getUint16(),r=t.getUint16(),a=e.get(n),o=e.get(r);return new this(a,o)},t.prototype.getParamWordSize=function(){return this.paramWordSize>=0?this.paramWordSize:this.paramWordSize=r(this.methodSignature)},t.size=1,t.infoByteSize=4,t}();e.MethodReference=d,a[10]=d;var g=function(){function t(t,e){this.method=null,this.methodTypeObject=null,this.classInfo=t,this.methodSignature=e.name+e.descriptor,this.nameAndTypeInfo=e}return t.prototype.getType=function(){return 11},t.prototype.ensureMethodSet=function(t){return null!==this.method?!0:(null!==this.classInfo.cls&&(this.method=this.classInfo.cls.methodLookup(t,this.nameAndTypeInfo.name+this.nameAndTypeInfo.descriptor)),null!==this.method)},t.prototype.getMethodHandleType=function(t,e,n){this.nameAndTypeInfo.getMethodType(t,e,n)},t.fromBytes=function(t,e){var n=t.getUint16(),r=t.getUint16(),a=e.get(n),o=e.get(r);return new this(a,o)},t.size=1,t.infoByteSize=4,t}();e.InterfaceMethodReference=g,a[11]=g;var v=function(){function t(t,e){this.fullFieldName=null,this.owningClass=null,this.classInfo=t,this.fieldName=e.name,this.nameAndTypeInfo=e}return t.prototype.getType=function(){return 9},t.prototype.getMethodHandleType=function(t,e,n){this.nameAndTypeInfo.getFieldType(t,e,n)},t.fromBytes=function(t,e){var n=t.getUint16(),r=t.getUint16(),a=e.get(n),o=e.get(r);return new this(a,o)},t.size=1,t.infoByteSize=4,t}();e.FieldReference=v,a[9]=v;var _=function(){function t(t,e){this.bootstrapMethod=null,this.callSiteObjects={},this.bootstrapMethodAttrIndex=t,this.nameAndTypeInfo=e}return t.prototype.getType=function(){return 18},t.prototype.getCallSiteObject=function(t){var e=this.callSiteObjects[t];return e?e:null},t.prototype.constructCallSiteObject=function(t,e,r,a,o){function i(n){null!==l[0].methodHandle?n(l[0].methodHandle):l[0].constructMethodHandle(t,r,e,function(){n(l[0].methodHandle)})}function s(a){var o=l[1],i=[];n.asyncForEach(o,function(n,a){switch(n.getType()){case 7:n.getClass(t,e,function(e){i.push(e.getClassObject(t)),a()},!1);break;case 15:var o=n;null!==o.methodHandle?(i.push(o.methodHandle),a()):o.constructMethodHandle(t,r,e,function(t,e){i.push(e),a()});break;case 16:n.getMethodType(t,e,function(t,e){i.push(e),a()});break;case 8:var s=n;null===s.value&&(s.value=t.getThreadPool().getJVM().internString(s.stringValue)),i.push(s.value),a();break;case 1:i.push(t.getThreadPool().getJVM().internString(n.value)),a();break;case 3:i.push(e.getInitializedClass(t,"I").createWrapperObject(t,n.value));break;case 5:i.push(e.getInitializedClass(t,"J").createWrapperObject(t,n.value));break;case 4:i.push(e.getInitializedClass(t,"F").createWrapperObject(t,n.value));break;case 6:i.push(e.getInitializedClass(t,"D").createWrapperObject(t,n.value))}},function(){a(i)})}var u=this,l=r.getBootstrapMethod(this.bootstrapMethodAttrIndex);this.nameAndTypeInfo.getMethodType(t,e,function(n,l){n?t.throwException(n):i(function(n){s(function(i){var s=t.getThreadPool().getJVM().internString(u.nameAndTypeInfo.name),c=e.getInitializedClass(t,"[Ljava/lang/Object;").create([null]),p=e.getInitializedClass(t,"[Ljava/lang/Object;").create(i),h=e.getInitializedClass(t,"Ljava/lang/invoke/MethodHandleNatives;");t.runMethod(h.methodLookup(t,"linkCallSite(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/invoke/MemberName;"),[r.getClassObject(t),n,s,l,p,c],function(e,n){e?t.throwException(e):(u.callSiteObjects[a]=[n,c.array[0]],o(n))})})})})},t.fromBytes=function(t,e){var n=t.getUint16(),r=t.getUint16(),a=e.get(r);return new this(n,a)},t.size=1,t.infoByteSize=4,t}();e.InvokeDynamic=_,a[18]=_;var m=function(){function t(t,e){this.methodHandle=null,this.reference=t,this.referenceType=e}return t.prototype.getType=function(){return 15},t.prototype.constructMethodHandle=function(t,e,n,r){var a,o=this,i=this.reference.classInfo,s=this.reference.nameAndTypeInfo,u=(9===this.reference.getType()?!1:!0,i.tryGetClass(n)),l=t.getThreadPool().getJVM().internString(s.name),c=function(){o.reference.getMethodHandleType(t,n,function(i,s){if(!i){var u=n.getInitializedClass(t,"Ljava/lang/invoke/MethodHandleNatives;"),c=u.methodLookup(t,"linkMethodHandleConstant(Ljava/lang/Class;ILjava/lang/Class;Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/invoke/MethodHandle;");t.runMethod(c,[e.getClassObject(t),o.referenceType,a,l,s],function(e,n){e?t.throwException(e):(o.methodHandle=n,r(null,n))})}})};null===u?i.getClass(t,n,function(e){a=e.getClassObject(t),c()}):(a=u.getClassObject(t),c())},t.fromBytes=function(t,e){var n=t.getUint8(),r=t.getUint16(),a=e.get(r);return new this(a,n)},t.size=1,t.infoByteSize=3,t}();e.MethodHandle=m,a[15]=m;var y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];!function(t){t.forEach(function(t,e){t.forEach(function(t){y[t]=e})})}([[1,3,4,5,6],[7,8,12,16],[9,10,11,18],[15]]);var T=function(){function t(){}return t.prototype.parse=function(t,e){var n=this;void 0===e&&(e=null);var r=t.getUint16(),o=[[],[],[]],i=0,s=1,u=0,l=0,c=0;for(this.constantPool=new Array(r);r>s;)l=t.pos(),u=t.getUint8(),c=y[u],c>0?(o[c-1].push({offset:l,index:s}),t.skip(a[u].infoByteSize)):this.constantPool[s]=a[u].fromBytes(t,this),s+=a[u].size;return i=t.pos(),o.forEach(function(r){r.forEach(function(r){if(t.seek(r.offset),u=t.getUint8(),n.constantPool[r.index]=a[u].fromBytes(t,n),null!==e&&null!==e.array[r.index]&&void 0!==e.array[r.index]){var o=e.array[r.index];switch(o.cls.getInternalName()){case"Ljava/lang/Integer;":n.constantPool[r.index].value=o.get_field(null,"Ljava/lang/Integer;value");break;case"Ljava/lang/Long;":n.constantPool[r.index].value=o.get_field(null,"Ljava/lang/Long;value");break;case"Ljava/lang/Float;":n.constantPool[r.index].value=o.get_field(null,"Ljava/lang/Float;value");break;case"Ljava/lang/Double;":n.constantPool[r.index].value=o.get_field(null,"Ljava/lang/Double;value");break;case"Ljava/lang/String;":n.constantPool[r.index].value=o.jvm2js_str();break;case"Ljava/lang/Class;":n.constantPool[r.index].name=o.$cls.getInternalName(),n.constantPool[r.index].cls=o.$cls;break;default:n.constantPool[r.index].stringValue="",n.constantPool[r.index].value=o}}})}),t.seek(i),t},t.prototype.get=function(t){return this.constantPool[t]},t.prototype.each=function(t){this.constantPool.forEach(function(e,n){void 0!==e&&t(n,e)})},t}();e.ConstantPool=T}),define("src/attributes",["require","exports","./util","./enums","./assert"],function(t,e,n){function r(t,e){for(var n={Code:o,LineNumberTable:i,SourceFile:s,StackMapTable:u,LocalVariableTable:l,LocalVariableTypeTable:c,ConstantValue:f,Exceptions:p,InnerClasses:h,Synthetic:d,Deprecated:g,Signature:v,RuntimeVisibleAnnotations:_,AnnotationDefault:m,EnclosingMethod:y,BootstrapMethods:T,RuntimeVisibleParameterAnnotations:I},r=t.getUint16(),a=[],L=0;r>L;L++){var E=e.get(t.getUint16()).value,C=t.getUint32();if(null!=n[E]){var N=t.size(),A=n[E].parse(t,e,C,E),S=t.size();N-S!==C&&t.skip(C-N+S),a.push(A)}else t.skip(C)}return a}var a=function(){function t(t,e,n,r){this.startPC=t,this.endPC=e,this.handlerPC=n,this.catchType=r}return t.prototype.getName=function(){return"ExceptionHandler"},t.parse=function(t,e){var n=t.getUint16(),r=t.getUint16(),a=t.getUint16(),o=t.getUint16(),i=0===o?"<any>":e.get(o).name;return new this(n,r,a,i)},t}();e.ExceptionHandler=a;var o=function(){function t(t,e,n,r,a){this.maxStack=t,this.maxLocals=e,this.exceptionHandlers=n,this.attrs=r,this.code=a}return t.prototype.getName=function(){return"Code"},t.parse=function(t,e){var n=t.getUint16(),o=t.getUint16(),i=t.getUint32();if(0===i)throw"Error parsing code: Code length is zero";for(var s=t.slice(i).getBuffer(),u=t.getUint16(),l=[],c=0;u>c;c++)l.push(a.parse(t,e));var p=r(t,e);return new this(n,o,l,p,s)},t.prototype.getCode=function(){return this.code},t.prototype.getAttribute=function(t){for(var e=0;e<this.attrs.length;e++){var n=this.attrs[e];if(n.getName()===t)return n}return null},t}();e.Code=o;var i=function(){function t(t){this.entries=t}return t.prototype.getName=function(){return"LineNumberTable"},t.prototype.getLineNumber=function(t){var e,n=-1;for(e=0;e<this.entries.length;e++){var r=this.entries[e];if(!(r.startPC<=t))break;n=r.lineNumber}return n},t.parse=function(t){for(var e=[],n=t.getUint16(),r=0;n>r;r++){var a=t.getUint16(),o=t.getUint16();e.push({startPC:a,lineNumber:o})}return new this(e)},t}();e.LineNumberTable=i;var s=function(){function t(t){this.filename=t}return t.prototype.getName=function(){return"SourceFile"},t.parse=function(t,e){return new this(e.get(t.getUint16()).value)},t}();e.SourceFile=s;var u=function(){function t(t){this.entries=t}return t.prototype.getName=function(){return"StackMapTable"},t.parse=function(t,e){for(var n=t.getUint16(),r=[],a=0;n>a;a++)r.push(this.parseEntry(t,e));return new this(r)},t.parseEntry=function(t,e){var n,r,a,o=t.getUint8();if(64>o)return{type:0,offsetDelta:o};if(128>o)return{type:1,offsetDelta:o-64,stack:[this.parseVerificationTypeInfo(t,e)]};if(247>o);else{if(247===o)return{type:2,offsetDelta:t.getUint16(),stack:[this.parseVerificationTypeInfo(t,e)]};if(251>o)return{type:3,offsetDelta:t.getUint16(),k:251-o};if(251===o)return{type:4,offsetDelta:t.getUint16()};if(255>o){for(r=t.getUint16(),n=[],a=0;o-251>a;a++)n.push(this.parseVerificationTypeInfo(t,e));return{type:5,offsetDelta:r,locals:n}}if(255===o){r=t.getUint16();var i=t.getUint16();for(n=[],a=0;i>a;a++)n.push(this.parseVerificationTypeInfo(t,e));var s=t.getUint16(),u=[];for(a=0;s>a;a++)u.push(this.parseVerificationTypeInfo(t,e));return{type:6,offsetDelta:r,numLocals:i,locals:n,numStackItems:s,stack:u}}}},t.parseVerificationTypeInfo=function(t,e){var r=t.getUint8();if(7===r){var a=e.get(t.getUint16()).name;return"class "+(/\w/.test(a[0])?n.descriptor2typestr(a):'"'+a+'"')}if(8===r)return"uninitialized "+t.getUint16();var o=["bogus","int","float","double","long","null","this","object","uninitialized"];return o[r]},t}();e.StackMapTable=u;var l=function(){function t(t){this.entries=t}return t.prototype.getName=function(){return"LocalVariableTable"},t.parse=function(t,e){for(var n=t.getUint16(),r=[],a=0;n>a;a++)r.push(this.parseEntries(t,e));return new this(r)},t.parseEntries=function(t,e){return{startPC:t.getUint16(),length:t.getUint16(),name:e.get(t.getUint16()).value,descriptor:e.get(t.getUint16()).value,ref:t.getUint16()}},t}();e.LocalVariableTable=l;var c=function(){function t(t){this.entries=t}return t.prototype.getName=function(){return"LocalVariableTypeTable"},t.parse=function(t,e){var n,r=t.getUint16(),a=[];for(n=0;r>n;n++)a.push(this.parseTableEntry(t,e));return new this(a)},t.parseTableEntry=function(t,e){return{startPC:t.getUint16(),length:t.getUint16(),name:e.get(t.getUint16()).value,signature:e.get(t.getUint16()).value,index:t.getUint16()}},t}();e.LocalVariableTypeTable=c;var p=function(){function t(t){this.exceptions=t}return t.prototype.getName=function(){return"Exceptions"},t.parse=function(t,e){for(var n=t.getUint16(),r=[],a=0;n>a;a++)r.push(t.getUint16());return new this(r.map(function(t){return e.get(t).name}))},t}();e.Exceptions=p;var h=function(){function t(t){this.classes=t}return t.prototype.getName=function(){return"InnerClasses"},t.parse=function(t,e){for(var n=t.getUint16(),r=[],a=0;n>a;a++)r.push(this.parseClass(t,e));return new this(r)},t.parseClass=function(t){return{innerInfoIndex:t.getUint16(),outerInfoIndex:t.getUint16(),innerNameIndex:t.getUint16(),innerAccessFlags:t.getUint16()}},t}();e.InnerClasses=h;var f=function(){function t(t){this.value=t}return t.prototype.getName=function(){return"ConstantValue"},t.parse=function(t,e){var n=t.getUint16();return new this(e.get(n))},t}();e.ConstantValue=f;var d=function(){function t(){}return t.prototype.getName=function(){return"Synthetic"},t.parse=function(){return new this},t}();e.Synthetic=d;var g=function(){function t(){}return t.prototype.getName=function(){return"Deprecated"},t.parse=function(){return new this},t}();e.Deprecated=g;var v=function(){function t(t){this.sig=t}return t.prototype.getName=function(){return"Signature"},t.parse=function(t,e){return new this(e.get(t.getUint16()).value)},t}();e.Signature=v;var _=function(){function t(t,e){this.rawBytes=t,this.isHidden=e}return t.prototype.getName=function(){return"RuntimeVisibleAnnotations"},t.parse=function(t,e,n){function r(){t.skip(2);var e,n=t.getUint16();for(e=0;n>e;e++)t.skip(2),a()}function a(){var e=String.fromCharCode(t.getUint8());switch(e){case"e":t.skip(2);case"Z":case"B":case"C":case"S":case"I":case"F":case"J":case"D":case"s":case"c":t.skip(2);break;case"@":r();break;case"[":var n,o=t.getUint16();for(n=0;o>n;n++)a()}}var o=t.read(n),i=!1;t.seek(t.pos()-o.length);var s,u=t.getUint16();for(s=0;u>s;s++){var l=e.get(t.getUint16());if(t.seek(t.pos()-2),r(),"Ljava/lang/invoke/LambdaForm$Hidden;"===l.value){i=!0;break}}return new this(o,i)},t}();e.RuntimeVisibleAnnotations=_;var m=function(){function t(t){this.rawBytes=t}return t.prototype.getName=function(){return"AnnotationDefault"},t.parse=function(t,e,n){return new this(t.read(n))},t}();e.AnnotationDefault=m;var y=function(){function t(t,e){this.encClass=t,this.encMethod=e}return t.prototype.getName=function(){return"EnclosingMethod"},t.parse=function(t,e){var n=e.get(t.getUint16()),r=t.getUint16(),a=null;return r>0&&(a=e.get(r)),new this(n,a)},t}();e.EnclosingMethod=y;var T=function(){function t(t){this.bootstrapMethods=t}return t.prototype.getName=function(){return"BootstrapMethods"},t.parse=function(t,e){for(var n=t.getUint16(),r=[],a=0;n>a;a++){for(var o=e.get(t.getUint16()),i=t.getUint16(),s=[],u=0;i>u;u++)s.push(e.get(t.getUint16()));r.push([o,s])}return new this(r)},t}();e.BootstrapMethods=T;var I=function(){function t(t){this.rawBytes=t}return t.prototype.getName=function(){return"RuntimeVisibleParameterAnnotations"},t.parse=function(t,e,n){return new this(t.read(n))},t}();e.RuntimeVisibleParameterAnnotations=I,e.makeAttributes=r}),function(){var t=this,e=t._,n={},r=Array.prototype,a=Object.prototype,o=Function.prototype,i=r.push,s=r.slice,u=r.concat,l=a.toString,c=a.hasOwnProperty,p=r.forEach,h=r.map,f=r.reduce,d=r.reduceRight,g=r.filter,v=r.every,_=r.some,m=r.indexOf,y=r.lastIndexOf,T=Array.isArray,I=Object.keys,L=o.bind,E=function(t){return t instanceof E?t:this instanceof E?void(this._wrapped=t):new E(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=E),exports._=E):t._=E,E.VERSION="1.5.2";var C=E.each=E.forEach=function(t,e,r){if(null!=t)if(p&&t.forEach===p)t.forEach(e,r);else if(t.length===+t.length){for(var a=0,o=t.length;o>a;a++)if(e.call(r,t[a],a,t)===n)return}else for(var i=E.keys(t),a=0,o=i.length;o>a;a++)if(e.call(r,t[i[a]],i[a],t)===n)return};E.map=E.collect=function(t,e,n){var r=[];return null==t?r:h&&t.map===h?t.map(e,n):(C(t,function(t,a,o){r.push(e.call(n,t,a,o))}),r)};var N="Reduce of empty array with no initial value";E.reduce=E.foldl=E.inject=function(t,e,n,r){var a=arguments.length>2;if(null==t&&(t=[]),f&&t.reduce===f)return r&&(e=E.bind(e,r)),a?t.reduce(e,n):t.reduce(e);if(C(t,function(t,o,i){a?n=e.call(r,n,t,o,i):(n=t,a=!0)}),!a)throw new TypeError(N);return n},E.reduceRight=E.foldr=function(t,e,n,r){var a=arguments.length>2;if(null==t&&(t=[]),d&&t.reduceRight===d)return r&&(e=E.bind(e,r)),a?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var i=E.keys(t);o=i.length}if(C(t,function(s,u,l){u=i?i[--o]:--o,a?n=e.call(r,n,t[u],u,l):(n=t[u],a=!0)}),!a)throw new TypeError(N);return n},E.find=E.detect=function(t,e,n){var r;return A(t,function(t,a,o){return e.call(n,t,a,o)?(r=t,!0):void 0}),r},E.filter=E.select=function(t,e,n){var r=[];return null==t?r:g&&t.filter===g?t.filter(e,n):(C(t,function(t,a,o){e.call(n,t,a,o)&&r.push(t)}),r)},E.reject=function(t,e,n){return E.filter(t,function(t,r,a){return!e.call(n,t,r,a)},n)},E.every=E.all=function(t,e,r){e||(e=E.identity);var a=!0;return null==t?a:v&&t.every===v?t.every(e,r):(C(t,function(t,o,i){return(a=a&&e.call(r,t,o,i))?void 0:n}),!!a)};var A=E.some=E.any=function(t,e,r){e||(e=E.identity);var a=!1;return null==t?a:_&&t.some===_?t.some(e,r):(C(t,function(t,o,i){return a||(a=e.call(r,t,o,i))?n:void 0}),!!a)};E.contains=E.include=function(t,e){return null==t?!1:m&&t.indexOf===m?-1!=t.indexOf(e):A(t,function(t){return t===e})},E.invoke=function(t,e){var n=s.call(arguments,2),r=E.isFunction(e);return E.map(t,function(t){return(r?e:t[e]).apply(t,n)})},E.pluck=function(t,e){return E.map(t,function(t){return t[e]})},E.where=function(t,e,n){return E.isEmpty(e)?n?void 0:[]:E[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},E.findWhere=function(t,e){return E.where(t,e,!0)},E.max=function(t,e,n){if(!e&&E.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&E.isEmpty(t))return-1/0;var r={computed:-1/0,value:-1/0};return C(t,function(t,a,o){var i=e?e.call(n,t,a,o):t;i>r.computed&&(r={value:t,computed:i})}),r.value},E.min=function(t,e,n){if(!e&&E.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&E.isEmpty(t))return 1/0;var r={computed:1/0,value:1/0};return C(t,function(t,a,o){var i=e?e.call(n,t,a,o):t;i<r.computed&&(r={value:t,computed:i})}),r.value},E.shuffle=function(t){var e,n=0,r=[];return C(t,function(t){e=E.random(n++),r[n-1]=r[e],r[e]=t}),r},E.sample=function(t,e,n){return arguments.length<2||n?t[E.random(t.length-1)]:E.shuffle(t).slice(0,Math.max(0,e))};var S=function(t){return E.isFunction(t)?t:function(e){return e[t]}};E.sortBy=function(t,e,n){var r=S(e);return E.pluck(E.map(t,function(t,e,a){return{value:t,index:e,criteria:r.call(n,t,e,a)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var b=function(t){return function(e,n,r){var a={},o=null==n?E.identity:S(n);return C(e,function(n,i){var s=o.call(r,n,i,e);t(a,s,n)}),a}};E.groupBy=b(function(t,e,n){(E.has(t,e)?t[e]:t[e]=[]).push(n)}),E.indexBy=b(function(t,e,n){t[e]=n}),E.countBy=b(function(t,e){E.has(t,e)?t[e]++:t[e]=1}),E.sortedIndex=function(t,e,n,r){n=null==n?E.identity:S(n);for(var a=n.call(r,e),o=0,i=t.length;i>o;){var s=o+i>>>1;n.call(r,t[s])<a?o=s+1:i=s}return o},E.toArray=function(t){return t?E.isArray(t)?s.call(t):t.length===+t.length?E.map(t,E.identity):E.values(t):[]},E.size=function(t){return null==t?0:t.length===+t.length?t.length:E.keys(t).length},E.first=E.head=E.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:s.call(t,0,e)},E.initial=function(t,e,n){return s.call(t,0,t.length-(null==e||n?1:e))},E.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:s.call(t,Math.max(t.length-e,0))},E.rest=E.tail=E.drop=function(t,e,n){return s.call(t,null==e||n?1:e)},E.compact=function(t){return E.filter(t,E.identity)};var O=function(t,e,n){return e&&E.every(t,E.isArray)?u.apply(n,t):(C(t,function(t){E.isArray(t)||E.isArguments(t)?e?i.apply(n,t):O(t,e,n):n.push(t)}),n)};E.flatten=function(t,e){return O(t,e,[])},E.without=function(t){return E.difference(t,s.call(arguments,1))},E.uniq=E.unique=function(t,e,n,r){E.isFunction(e)&&(r=n,n=e,e=!1);var a=n?E.map(t,n,r):t,o=[],i=[];return C(a,function(n,r){(e?r&&i[i.length-1]===n:E.contains(i,n))||(i.push(n),o.push(t[r]))}),o},E.union=function(){return E.uniq(E.flatten(arguments,!0))},E.intersection=function(t){var e=s.call(arguments,1);return E.filter(E.uniq(t),function(t){return E.every(e,function(e){return E.indexOf(e,t)>=0})})},E.difference=function(t){var e=u.apply(r,s.call(arguments,1));return E.filter(t,function(t){return!E.contains(e,t)})},E.zip=function(){for(var t=E.max(E.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;t>n;n++)e[n]=E.pluck(arguments,""+n);return e},E.object=function(t,e){if(null==t)return{};for(var n={},r=0,a=t.length;a>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},E.indexOf=function(t,e,n){if(null==t)return-1;var r=0,a=t.length;if(n){if("number"!=typeof n)return r=E.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,a+n):n}if(m&&t.indexOf===m)return t.indexOf(e,n);for(;a>r;r++)if(t[r]===e)return r;return-1},E.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(y&&t.lastIndexOf===y)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var a=r?n:t.length;a--;)if(t[a]===e)return a;return-1},E.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),a=0,o=new Array(r);r>a;)o[a++]=t,t+=n;return o};var k=function(){};E.bind=function(t,e){var n,r;if(L&&t.bind===L)return L.apply(t,s.call(arguments,1));if(!E.isFunction(t))throw new TypeError;return n=s.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(e,n.concat(s.call(arguments)));k.prototype=t.prototype;var a=new k;k.prototype=null;var o=t.apply(a,n.concat(s.call(arguments)));return Object(o)===o?o:a}},E.partial=function(t){var e=s.call(arguments,1);return function(){return t.apply(this,e.concat(s.call(arguments)))}},E.bindAll=function(t){var e=s.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return C(e,function(e){t[e]=E.bind(t[e],t)}),t},E.memoize=function(t,e){var n={};return e||(e=E.identity),function(){var r=e.apply(this,arguments);return E.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},E.delay=function(t,e){var n=s.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},E.defer=function(t){return E.delay.apply(E,[t,1].concat(s.call(arguments,1)))},E.throttle=function(t,e,n){var r,a,o,i=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:new Date,i=null,o=t.apply(r,a)};return function(){var l=new Date;s||n.leading!==!1||(s=l);var c=e-(l-s);return r=this,a=arguments,0>=c?(clearTimeout(i),i=null,s=l,o=t.apply(r,a)):i||n.trailing===!1||(i=setTimeout(u,c)),o}},E.debounce=function(t,e,n){var r,a,o,i,s;return function(){o=this,a=arguments,i=new Date;var u=function(){var l=new Date-i;e>l?r=setTimeout(u,e-l):(r=null,n||(s=t.apply(o,a)))},l=n&&!r;return r||(r=setTimeout(u,e)),l&&(s=t.apply(o,a)),s}},E.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},E.wrap=function(t,e){return function(){var n=[t];return i.apply(n,arguments),e.apply(this,n)}},E.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},E.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},E.keys=I||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)E.has(t,n)&&e.push(n);return e},E.values=function(t){for(var e=E.keys(t),n=e.length,r=new Array(n),a=0;n>a;a++)r[a]=t[e[a]];return r},E.pairs=function(t){for(var e=E.keys(t),n=e.length,r=new Array(n),a=0;n>a;a++)r[a]=[e[a],t[e[a]]];return r},E.invert=function(t){for(var e={},n=E.keys(t),r=0,a=n.length;a>r;r++)e[t[n[r]]]=n[r];return e},E.functions=E.methods=function(t){var e=[];for(var n in t)E.isFunction(t[n])&&e.push(n);return e.sort()},E.extend=function(t){return C(s.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},E.pick=function(t){var e={},n=u.apply(r,s.call(arguments,1));return C(n,function(n){n in t&&(e[n]=t[n])}),e},E.omit=function(t){var e={},n=u.apply(r,s.call(arguments,1));for(var a in t)E.contains(n,a)||(e[a]=t[a]);return e},E.defaults=function(t){return C(s.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},E.clone=function(t){return E.isObject(t)?E.isArray(t)?t.slice():E.extend({},t):t},E.tap=function(t,e){return e(t),t};var w=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof E&&(t=t._wrapped),e instanceof E&&(e=e._wrapped);var a=l.call(t);if(a!=l.call(e))return!1;switch(a){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return r[o]==e;var i=t.constructor,s=e.constructor;if(i!==s&&!(E.isFunction(i)&&i instanceof i&&E.isFunction(s)&&s instanceof s))return!1;n.push(t),r.push(e);var u=0,c=!0;if("[object Array]"==a){if(u=t.length,c=u==e.length)for(;u--&&(c=w(t[u],e[u],n,r)););}else{for(var p in t)if(E.has(t,p)&&(u++,!(c=E.has(e,p)&&w(t[p],e[p],n,r))))break;if(c){for(p in e)if(E.has(e,p)&&!u--)break;c=!u}}return n.pop(),r.pop(),c};E.isEqual=function(t,e){return w(t,e,[],[])},E.isEmpty=function(t){if(null==t)return!0;if(E.isArray(t)||E.isString(t))return 0===t.length;for(var e in t)if(E.has(t,e))return!1;return!0},E.isElement=function(t){return!(!t||1!==t.nodeType)},E.isArray=T||function(t){return"[object Array]"==l.call(t)},E.isObject=function(t){return t===Object(t)},C(["Arguments","Function","String","Number","Date","RegExp"],function(t){E["is"+t]=function(e){return l.call(e)=="[object "+t+"]"}}),E.isArguments(arguments)||(E.isArguments=function(t){return!(!t||!E.has(t,"callee"))}),"function"!=typeof/./&&(E.isFunction=function(t){return"function"==typeof t}),E.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},E.isNaN=function(t){return E.isNumber(t)&&t!=+t},E.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==l.call(t)},E.isNull=function(t){return null===t},E.isUndefined=function(t){return void 0===t},E.has=function(t,e){return c.call(t,e)},E.noConflict=function(){return t._=e,this},E.identity=function(t){return t},E.times=function(t,e,n){for(var r=Array(Math.max(0,t)),a=0;t>a;a++)r[a]=e.call(n,a);return r},E.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var F={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};F.unescape=E.invert(F.escape);var j={escape:new RegExp("["+E.keys(F.escape).join("")+"]","g"),unescape:new RegExp("("+E.keys(F.unescape).join("|")+")","g")};E.each(["escape","unescape"],function(t){E[t]=function(e){return null==e?"":(""+e).replace(j[t],function(e){return F[t][e]})}}),E.result=function(t,e){if(null==t)return void 0;var n=t[e];return E.isFunction(n)?n.call(t):n},E.mixin=function(t){C(E.functions(t),function(e){var n=E[e]=t[e];E.prototype[e]=function(){var t=[this._wrapped];return i.apply(t,arguments),P.call(this,n.apply(E,t))}})};var R=0;E.uniqueId=function(t){var e=++R+"";return t?t+e:e},E.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;E.template=function(t,e,n){var r;n=E.defaults({},n,E.templateSettings);var a=new RegExp([(n.escape||M).source,(n.interpolate||M).source,(n.evaluate||M).source].join("|")+"|$","g"),o=0,i="__p+='";t.replace(a,function(e,n,r,a,s){return i+=t.slice(o,s).replace(D,function(t){return"\\"+U[t]}),n&&(i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(i+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),a&&(i+="';\n"+a+"\n__p+='"),o=s+e.length,e}),i+="';\n",n.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{r=new Function(n.variable||"obj","_",i)}catch(s){throw s.source=i,s}if(e)return r(e,E);var u=function(t){return r.call(this,t,E)};return u.source="function("+(n.variable||"obj")+"){\n"+i+"}",u},E.chain=function(t){return E(t).chain()};var P=function(t){return this._chain?E(t).chain():t};E.mixin(E),C(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=r[t];E.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],P.call(this,n)}}),C(["concat","join","slice"],function(t){var e=r[t];E.prototype[t]=function(){return P.call(this,e.apply(this._wrapped,arguments))}}),E.extend(E.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("vendor/underscore/underscore",function(t){return function(){var e;return e||t._}}(this));var __extends=this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n};define("src/java_object",["require","exports","./gLong","./util","./enums","./assert","../vendor/underscore/underscore"],function(t,e,n,r){function a(t,e){return null!=e&&null!=e.$loader?e.$loader:t.getBsCl()}function o(t,e,n,r,a){for(var o=r,i=e+a,s=e;i>s;s++)n.array[o++]=t.array[s]}function i(t,e,n,r,a,o){for(var i=a,s=n+o,u=r.cls.getComponentClass(),l=n;s>l;l++){if(null!==e.array[l]&&!e.array[l].cls.isCastable(u))return void t.throwNewException("Ljava/lang/ArrayStoreException;","Array element in src cannot be cast to dest array type.");
r.array[i]=e.array[l],i++}}function s(t,e){var n=u(t,e),r=t.getInitializedClass(null,"Ljava/lang/String;");return new d(r,{"Ljava/lang/String;value":n,"Ljava/lang/String;count":e.length})}function u(t,e){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);var a=t.getLoadedClass("[C");return new f(a,n)}function l(t,e,a){var o=e.getInternalName().slice(1);return 0>a?void t.throwNewException("Ljava/lang/NegativeArraySizeException;","Tried to init ["+o+" array with length "+a):"J"===o?new f(e,r.arrayset(a,n.ZERO)):"L"===o[0]||"["===o[0]?new f(e,r.arrayset(a,null)):new f(e,r.arrayset(a,0))}function c(t,e,n,a){function o(n,s){var u=a[n];if(!(0>u)){var l=new Array(u);if(n+1===i)for(var c=r.initialValue(s),p=0;u>p;p++)l[p]=c;else for(var h=n+1,d=s.slice(1),p=0;u>p;p++)if(null==(l[p]=o(h,d)))return void 0;var g=e.getInitializedClass(t,s);return new f(g,l)}t.throwNewException("Ljava/lang/NegativeArraySizeException;","Tried to init dimension "+n+" of a "+i+" dimensional "+s+" array with length "+u)}var i=a.length;return o(0,n)}var p=t("../vendor/underscore/underscore"),h=0,f=function(){function t(t,e){this.ref=h++,this.$monitor=null,this.cls=t,this.array=e}return t.prototype.clone=function(){return new t(this.cls,p.clone(this.array))},t.prototype.getFieldFromSlot=function(t,e){return this.array[e.toInt()]},t.prototype.setFieldFromSlot=function(t,e,n){this.array[e.toInt()]=n},t.prototype.getMonitor=function(){return null!==this.$monitor?this.$monitor:this.$monitor=new v},t.prototype.toString=function(){return this.array.length<=10?"<"+this.cls.getInternalName()+" ["+this.array+"] (*"+this.ref+")>":"<"+this.cls.getInternalName()+" of length "+this.array.length+" (*"+this.ref+")>"},t}();e.JavaArray=f;var d=function(){function t(t,e){void 0===e&&(e={}),this.ref=h++,this.$monitor=null,this.cls=t,this.fields=Object.create(this.cls.getDefaultFields());for(var n in e)e.hasOwnProperty(n)&&(this.fields[n]=e[n])}return t.prototype.clone=function(){return new t(this.cls,p.clone(this.fields))},t.prototype.set_field=function(t,e,n){return void 0!==this.fields[e]?(this.fields[e]=n,!0):(t.throwNewException("Ljava/lang/NoSuchFieldError;","Cannot set field "+e+" on class "+this.cls.getInternalName()),!1)},t.prototype.get_field=function(t,e){return void 0!==this.fields[e]?this.fields[e]:void t.throwNewException("Ljava/lang/NoSuchFieldError;","Cannot get field "+e+" from class "+this.cls.getInternalName())},t.prototype.getMonitor=function(){return null!==this.$monitor?this.$monitor:this.$monitor=new v},t.prototype.getFieldFromSlot=function(t,e){var n=this.cls.getFieldFromSlot(e.toNumber());return n.accessFlags.isStatic()?n.cls.staticGet(t,n.name):this.get_field(t,n.cls.getInternalName()+n.name)},t.prototype.setFieldFromSlot=function(t,e,n){var r=this.cls.getFieldFromSlot(e.toNumber());r.accessFlags.isStatic()?r.cls.staticPut(t,r.name,n):this.set_field(t,r.cls.getInternalName()+r.name,n)},t.prototype.toString=function(){return"Ljava/lang/String;"===this.cls.getInternalName()?"<"+this.cls.getInternalName()+" '"+this.jvm2js_str()+"' (*"+this.ref+")>":"<"+this.cls.getInternalName()+" (*"+this.ref+")>"},t.prototype.jvm2js_str=function(){return r.chars2jsStr(this.fields["Ljava/lang/String;value"],this.fields["Ljava/lang/String;offset"],this.fields["Ljava/lang/String;count"])},t}();e.JavaObject=d;var g=function(t){function e(e,n){t.call(this,e.getBsCl().getResolvedClass("Ljava/lang/Class;")),this.$cls=n,this.set_field(e,"Ljava/lang/Class;classLoader",this.$cls.getLoader().getLoaderObject())}return __extends(e,t),e.prototype.toString=function(){return"<Class "+this.$cls.getInternalName()+" (*"+this.ref+")>"},e}(d);e.JavaClassObject=g,e.get_cl_from_jclo=a,e.arraycopy_no_check=o,e.arraycopy_check=i,e.initString=s,e.initCarr=u;var v=function(){function t(){this.owner=null,this.count=0,this.blocked={},this.waiting={}}return t.prototype.enter=function(t,e){return this.owner===t?(this.count++,!0):this.contendForLock(t,1,3,e)},t.prototype.contendForLock=function(t,e,n,r){var a=this.owner;return null===a?(this.owner=t,this.count=e,!0):(t.setStatus(n,this),this.blocked[t.ref]={thread:t,cb:r,count:e},!1)},t.prototype.exit=function(t){var e=this.owner;return e===t?0===--this.count&&(this.owner=null,this.appointNewOwner()):t.throwNewException("Ljava/lang/IllegalMonitorStateException;","Cannot exit a monitor that you do not own."),e===t},t.prototype.appointNewOwner=function(){var t=Object.keys(this.blocked);if(t.length>0){var e=t[Math.floor(Math.random()*t.length)],n=this.blocked[e];this.unblock(n.thread,!1)}},t.prototype.wait=function(t,e,n){var r=this;return this.getOwner()===t?(this.waiting[t.ref]={thread:t,cb:e,count:this.count,isTimed:null!=n&&0!==n},this.owner=null,this.count=0,null!=n&&0!==n?(this.waiting[t.ref].timer=setTimeout(function(){r.unwait(t,!0)},n),t.setStatus(6,this)):t.setStatus(5,this),this.appointNewOwner(),!0):(t.throwNewException("Ljava/lang/IllegalMonitorStateException;","Cannot wait on an object that you do not own."),!1)},t.prototype.unwait=function(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=null);var a=this.waiting[t.ref],o=4,i=function(){t.setStatus(2),n?r():a.cb(e)};if(delete this.waiting[t.ref],6===t.getStatus()&&!e){var s=a.timer;clearTimeout(s)}this.contendForLock(t,a.count,o,i)&&i()},t.prototype.unblock=function(t,e){void 0===e&&(e=!1);var n=this.blocked[t.ref];null!=n&&(delete this.blocked[t.ref],t.setStatus(2),e||(this.owner=t,this.count=n.count,n.cb()))},t.prototype.notify=function(t){if(this.owner===t){var e=Object.keys(this.waiting);e.length>0&&this.unwait(this.waiting[e[Math.floor(Math.random()*e.length)]].thread,!1)}else t.throwNewException("Ljava/lang/IllegalMonitorStateException;","Cannot notify on a monitor that you do not own.")},t.prototype.notifyAll=function(t){if(this.owner===t){var e,n=Object.keys(this.waiting);for(e=0;e<n.length;e++)this.unwait(this.waiting[n[e]].thread,!1)}else t.throwNewException("Ljava/lang/IllegalMonitorStateException;","Cannot notifyAll on a monitor that you do not own.")},t.prototype.getOwner=function(){return this.owner},t.prototype.isWaiting=function(t){return null!=this.waiting[t.ref]&&!this.waiting[t.ref].isTimed},t.prototype.isTimedWaiting=function(t){return null!=this.waiting[t.ref]&&this.waiting[t.ref].isTimed},t.prototype.isBlocked=function(t){return null!=this.blocked[t.ref]},t}();e.Monitor=v,e.heapNewArray=l,e.heapMultiNewArray=c}),define("src/logging",["require","exports","./gLong","./enums"],function(t,e,n,r){function a(t){return null===t?"!":void 0===t?"undef":null!=t.ref?"*"+t.ref:t instanceof n?t+"L":t}function o(t){return t.map(a)}function i(t){for(var e,n,a,o=-1,i=-1,s=[],u=[];-1!==(o=t.indexOf("{",i+1));)u.push(t.substring(i+1,o)),i=t.indexOf("}",o+1),e=t.substring(o+1,i),"/"!==e.charAt(0)?r.FormatChars.hasOwnProperty(e)&&(s.push(e),u.push(r.FormatChars[e][0])):(e=e.slice(1),n=s.indexOf(e),-1!==n&&(s.splice(n,1),u.push(r.FormatChars[e][1])));for(i+1<t.length&&u.push(t.slice(i+1)),a=0;a<s.length;a++)u.push(r.FormatChars[s[a]][1]);return u.join("")}function s(t,n){if(t<=e.log_level){var r=n.join(" ");-1!==r.indexOf("{")&&(r=i(r)),1==t?console.error(r):console.log(r)}}function u(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];s(e.VTRACE,t)}function l(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];s(e.TRACE,t)}function c(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];s(e.DEBUG,t)}function p(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];s(e.ERROR,t)}e.debug_var=a,e.debug_vars=o,e.VTRACE=10,e.TRACE=9,e.DEBUG=5,e.ERROR=1,e.log_level=e.ERROR,e.vtrace=u,e.trace=l,e.debug=c,e.error=p});var __extends=this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n};define("src/methods",["require","exports","./util","./attributes","./java_object","./assert"],function(t,e,n,r,a){function o(t,e){return t=n.descriptor2typestr(t),u.hasOwnProperty(t)&&u[t].hasOwnProperty(e)?u[t][e]:null}var i=a.JavaArray,s=a.JavaObject,u={"java/lang/ref/Reference":{"<clinit>()V":function(){}},"java/lang/System":{"loadLibrary(Ljava/lang/String;)V":function(t,e){var n=e.jvm2js_str();"zip"!==n&&"net"!==n&&"nio"!==n&&"awt"!==n&&"fontmanager"!==n&&t.throwNewException("Ljava/lang/UnsatisfiedLinkError;","no "+n+" in java.library.path")}},"java/lang/Terminator":{"setup()V":function(){}},"java/util/concurrent/atomic/AtomicInteger":{"compareAndSet(II)Z":function(t,e,n,r){return e.set_field(t,"Ljava/util/concurrent/atomic/AtomicInteger;value",r),!0}},"java/nio/Bits":{"byteOrder()Ljava/nio/ByteOrder;":function(t){var e=t.getBsCl().getInitializedClass(t,"Ljava/nio/ByteOrder;");return e.staticGet(t,"LITTLE_ENDIAN")},"copyToByteArray(JLjava/lang/Object;JJ)V":function(t,e,n,r,a){var o,i=t.getThreadPool().getJVM().getHeap(),s=e.toNumber(),u=r.toNumber(),l=a.toNumber(),c=n.array;for(o=0;l>o;o++)c[u+o]=i.get_byte(s+o)}},"java/nio/charset/Charset$3":{"run()Ljava/lang/Object;":function(){return null}}},l=function(){function t(t){this.slot=-1,this.cls=t}return t.prototype.parse=function(t,e){this.accessFlags=new n.Flags(t.getUint16()),this.name=e.get(t.getUint16()).value,this.raw_descriptor=e.get(t.getUint16()).value,this.parse_descriptor(this.raw_descriptor),this.attrs=r.makeAttributes(t,e)},t.prototype.setSlot=function(t){this.slot=t},t.prototype.get_attribute=function(t){for(var e=0;e<this.attrs.length;e++){var n=this.attrs[e];if(n.getName()===t)return n}return null},t.prototype.get_attributes=function(t){return this.attrs.filter(function(e){return e.getName()===t})},t.prototype.parse_descriptor=function(){throw new Error("Unimplemented error.")},t}();e.AbstractMethodField=l;var c=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.parse_descriptor=function(t){this.type=t},e.prototype.reflector=function(t,e){var n=this,r=this.get_attribute("Signature"),o=null!=r?r.sig:null,i=t.getThreadPool().getJVM(),s=t.getBsCl(),u=function(e,r){var u=s.getInitializedClass(t,"Ljava/lang/reflect/Field;"),l=n.get_attribute("RuntimeVisibleAnnotations");return new a.JavaObject(u,{"Ljava/lang/reflect/Field;clazz":e,"Ljava/lang/reflect/Field;name":i.internString(n.name),"Ljava/lang/reflect/Field;type":r,"Ljava/lang/reflect/Field;modifiers":n.accessFlags.getRawByte(),"Ljava/lang/reflect/Field;slot":n.slot,"Ljava/lang/reflect/Field;signature":null!=o?a.initString(s,o):null,"Ljava/lang/reflect/Field;annotations":null!=l?t.getBsCl().getInitializedClass(t,"[B").create(l.rawBytes):null})},l=this.cls.getClassObject(t);this.cls.getLoader().resolveClass(t,this.type,function(n){if(null!=n){var r=n.getClassObject(t),a=u(l,r);e(a)}else e(null)})},e}(l);e.Field=c;var p=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.parse_descriptor=function(t){var e=/\(([^)]*)\)(.*)/.exec(t),r=e[1],a=e[2],o=r.split("");this.param_types=[];for(var i;i=n.carr2descriptor(o);)this.param_types.push(i);this.param_bytes=0;for(var s=0;s<this.param_types.length;s++){var u=this.param_types[s];this.param_bytes+="D"===u||"J"===u?2:1}this.accessFlags.isStatic()||this.param_bytes++,this.num_args=this.param_types.length,this.accessFlags.isStatic()||this.num_args++,this.return_type=a},e.prototype.isHidden=function(){var t=this.get_attribute("RuntimeVisibleAnnotations");return null!==t&&t.isHidden},e.prototype.full_signature=function(){return n.ext_classname(this.cls.getInternalName())+"::"+this.name+this.raw_descriptor},e.prototype.getParamWordSize=function(){return this.param_bytes},e.prototype.getNumberOfParameters=function(){return this.num_args},e.prototype.getCodeAttribute=function(){return this.code},e.prototype.getNativeFunction=function(){return this.code},e.prototype.parse=function(e,n){var r=this;t.prototype.parse.call(this,e,n);var a=this.full_signature(),i=this.cls.getInternalName(),s=this.name+this.raw_descriptor;null!=o(i,s)?(this.code=o(i,s),this.accessFlags.setNative(!0)):this.accessFlags.isNative()?this.code=a.indexOf("::registerNatives()V",1)<0&&a.indexOf("::initIDs()V",1)<0?function(t){var e=t.getThreadPool().getJVM(),n=e.getNative(i,s);return null!=n?(r.code=n,n.apply(r,arguments)):void t.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method '"+a+"' not implemented.\nPlease fix or file a bug at https://github.com/plasma-umass/doppio/issues")}:function(){}:this.accessFlags.isAbstract()||(this.code=this.get_attribute("Code"))},e.prototype.reflector=function(t,e,n){var r=this;null==e&&(e=!1);var a=e?"Ljava/lang/reflect/Constructor;":"Ljava/lang/reflect/Method;",o=this.get_attribute("Exceptions"),u=this.get_attribute("RuntimeVisibleAnnotations"),l=this.get_attribute("AnnotationDefault"),c=this.get_attribute("Signature"),p={},h=this.cls.getClassObject(t),f=[],d=t.getBsCl(),g=t.getThreadPool().getJVM(),v=this.cls.getLoader(),_=!this.accessFlags.isNative()&&!this.accessFlags.isAbstract(),m=this.get_attribute("RuntimeVisibleParameterAnnotations");f.push(this.return_type);var y=this.code;if(_&&y.exceptionHandlers.length>0){f.push("Ljava/lang/Throwable;");for(var T=y.exceptionHandlers,I=0;I<T.length;I++)"<any>"!==T[I].catchType&&f.push(T[I].catchType)}f.push.apply(f,this.param_types),null!=o&&f.push.apply(f,o.exceptions),v.resolveClasses(t,f,function(e){if(null===e)n(null);else{var f,v=d.getInitializedClass(t,"[Ljava/lang/Class;"),_=d.getInitializedClass(t,"[B"),y=d.getInitializedClass(t,a),T=[];for(f=0;f<r.param_types.length;f++)T.push(e[r.param_types[f]].getClassObject(t));var I=[];if(null!=o)for(f=0;f<o.exceptions.length;f++)I.push(e[o.exceptions[f]].getClassObject(t));p[a+"clazz"]=h,p[a+"name"]=g.internString(r.name),p[a+"parameterTypes"]=new i(v,T),p[a+"returnType"]=e[r.return_type].getClassObject(t),p[a+"exceptionTypes"]=new i(v,I),p[a+"modifiers"]=r.accessFlags.getRawByte(),p[a+"slot"]=r.slot,p[a+"signature"]=null!=c?g.internString(c.sig):null,p[a+"annotations"]=null!=u?new i(_,u.rawBytes):null,p[a+"annotationDefault"]=null!=l?new i(_,l.rawBytes):null,p[a+"parameterAnnotations"]=null!=m?new i(_,m.rawBytes):null,n(new s(y,p))}})},e.prototype.convertArgs=function(t,e){if(this.isSignaturePolymorphic())return e.unshift(t),e;var n,r=[t],a=0;for(this.accessFlags.isStatic()||(r.push(e[0]),a=1),n=0;n<this.param_types.length;n++){var o=this.param_types[n];r.push(e[a]),a+="J"===o||"D"===o?2:1}return r},e.prototype.takeArgs=function(t){var e=t.length-this.param_bytes,n=t.slice(e);return t.length-=this.param_bytes,n},e.prototype.method_lock=function(t,e){return this.accessFlags.isStatic()?this.cls.getClassObject(t).getMonitor():e.locals[0].getMonitor()},e.prototype.isSignaturePolymorphic=function(){return"Ljava/lang/invoke/MethodHandle;"===this.cls.getInternalName()&&this.accessFlags.isNative()&&this.accessFlags.isVarArgs()&&"([Ljava/lang/Object;)Ljava/lang/Object;"===this.raw_descriptor},e}(l);e.Method=p}),define("src/ClassLock",["require","exports"],function(){var t=function(){function t(){this.queue=[]}return t.prototype.tryLock=function(t,e){return 1===this.queue.push({thread:t,cb:e})},t.prototype.unlock=function(t){var e,n=this.queue.length;for(e=0;n>e;e++)this.queue[e].cb(t);this.queue=[]},t.prototype.getOwner=function(){return this.queue.length>0?this.queue[0].thread:null},t}();return t});var __extends=this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n};define("src/ClassData",["require","exports","./util","./ByteStream","./ConstantPool","./attributes","./java_object","./logging","./methods","./enums","./ClassLock"],function(t,e,n,r,a,o,i,s,u,l,c){var p=i.JavaObject,h=i.JavaClassObject,f=(l.ClassState,s.trace,s.debug,function(){function t(t){this.accessFlags=null,this.state=1,this.jco=null,this.superClass=null,this.loader=t}return t.prototype.getExternalName=function(){return n.ext_classname(this.className)},t.prototype.getInternalName=function(){return this.className},t.prototype.getLoader=function(){return this.loader},t.prototype.getSuperClass=function(){return this.superClass},t.prototype.getInterfaces=function(){return[]},t.prototype.getClassObject=function(t){return null===this.jco&&(this.jco=new h(t,this)),this.jco},t.prototype.getMethod=function(){return null},t.prototype.getMethods=function(){return[]},t.prototype.getFields=function(){return[]},t.prototype.methodLookup=function(t,e){return t.throwNewException("Ljava/lang/NoSuchMethodError;","No such method found in "+this.getExternalName()+"::"+e),null},t.prototype.fieldLookup=function(t,e){return t.throwNewException("Ljava/lang/NoSuchFieldError;","No such field found in "+this.getExternalName()+"::"+e),null},t.prototype.tryToResolve=function(){throw new Error("Abstract method.")},t.prototype.tryToInitialize=function(){throw new Error("Abstract method.")},t.prototype.setState=function(t){this.state=t},t.prototype.getState=function(){if(2===this.state&&null===this.getMethod("<clinit>()V")){var t=this.getSuperClass();null!==t&&3===t.getState()&&(this.state=3)}return this.state},t.prototype.isInitialized=function(){return 3===this.getState()},t.prototype.isResolved=function(){return 1!==this.getState()},t.prototype.isSubinterface=function(){return!1},t.prototype.isSubclass=function(t){return this===t?!0:null===this.getSuperClass()?!1:this.getSuperClass().isSubclass(t)},t.prototype.isCastable=function(){throw new Error("Unimplemented.")},t.prototype.resolve=function(t,e,n){throw void 0===n&&(n=!0),new Error("Unimplemented.")},t.prototype.initialize=function(t,e,n){throw void 0===n&&(n=!0),new Error("Unimplemented.")},t.prototype.getFieldFromSlot=function(){return null},t.prototype.getMethodFromSlot=function(){return null},t}());e.ClassData=f;var d=function(t){function e(e,r){t.call(this,r),this.className=e,this.accessFlags=new n.Flags(1041),this.setState(3)}return __extends(e,t),e.prototype.isCastable=function(t){return this.className===t.getInternalName()},e.prototype.boxClassName=function(){switch(this.className){case"B":return"Ljava/lang/Byte;";case"C":return"Ljava/lang/Character;";case"D":return"Ljava/lang/Double;";case"F":return"Ljava/lang/Float;";case"I":return"Ljava/lang/Integer;";case"J":return"Ljava/lang/Long;";case"S":return"Ljava/lang/Short;";case"Z":return"Ljava/lang/Boolean;";case"V":return"Ljava/lang/Void;";default:throw new Error("Tried to box a non-primitive class: "+this.className)}},e.prototype.createWrapperObject=function(t,e){var n=this.boxClassName(),r=t.getBsCl().getInitializedClass(t,n),a=new p(r);return"V"!==n&&(a.fields[n+"value"]=e),a},e.prototype.tryToResolve=function(){return!0},e.prototype.tryToInitialize=function(){return!0},e.prototype.resolve=function(t,e,n){var r=this;void 0===n&&(n=!0),setImmediate(function(){return e(r)})},e}(f);e.PrimitiveClassData=d;var g=function(t){function e(e,r){t.call(this,r),this.className="["+e,this.accessFlags=new n.Flags(1041),this.componentClassName=e}return __extends(e,t),e.prototype.getFieldFromSlot=function(t){return this.superClass.getFieldFromSlot(t)},e.prototype.getMethodFromSlot=function(t){return this.superClass.getMethodFromSlot(t)},e.prototype.resolve=function(t,e,r){var a=this;return void 0===r&&(r=!0),this.isResolved()?void setImmediate(function(){return e(a)}):void n.asyncForEach(["Ljava/lang/Object;",this.componentClassName],function(e,n){a.loader.resolveClass(t,e,function(t){null!==t?n():n("Failed.")})},function(t){t?e(null):(a.setResolved(a.loader.getResolvedClass("Ljava/lang/Object;"),a.loader.getResolvedClass(a.componentClassName)),e(a))})},e.prototype.create=function(t){return new i.JavaArray(this,t)},e.prototype.getComponentClass=function(){return this.componentClass},e.prototype.fieldLookup=function(t,e){return this.superClass.fieldLookup(t,e)},e.prototype.methodLookup=function(t,e){return this.superClass.methodLookup(t,e)},e.prototype.setResolved=function(t,e){this.superClass=t,this.componentClass=e,this.setState(3)},e.prototype.tryToResolve=function(){var t=this.loader,e=t.getResolvedClass("Ljava/lang/Object;"),n=t.getResolvedClass(this.componentClassName);return null===e||null===n?!1:(this.setResolved(e,n),!0)},e.prototype.tryToInitialize=function(){return this.tryToResolve()},e.prototype.isCastable=function(t){if(!(t instanceof e)){if(t instanceof d)return!1;if(t.accessFlags.isInterface()){var n=t.getInternalName();return"Ljava/lang/Cloneable;"===n||"Ljava/io/Serializable;"===n}return"Ljava/lang/Object;"===t.getInternalName()}return this.getComponentClass().isCastable(t.getComponentClass())},e.prototype.initialize=function(t,e,n){void 0===n&&(n=!0),this.resolve(t,e,n)},e}(f);e.ArrayClassData=g;var v=function(t){function e(e,i,s){t.call(this,i),this.interfaceClasses=null,this.superClassRef=null,this.slotMethodBase=-1,this.slotFieldBase=-1,this.initLock=new c;var l=new r(e),p=0;if(3405691582!==l.getUint32())throw new Error("Magic number invalid");if(this.minorVersion=l.getUint16(),this.majorVersion=l.getUint16(),!(45<=this.majorVersion&&this.majorVersion<=52))throw new Error("Major version invalid");this.constantPool=new a.ConstantPool,this.constantPool.parse(l,s),this.accessFlags=new n.Flags(l.getUint16()),this.className=this.constantPool.get(l.getUint16()).name;var h=l.getUint16();0!==h&&(this.superClassRef=this.constantPool.get(h));var f=l.getUint16();for(this.interfaceRefs=new Array(f),p=0;f>p;++p)this.interfaceRefs[p]=this.constantPool.get(l.getUint16());var d=l.getUint16();for(this.fields=new Array(d),p=0;d>p;++p)this.fields[p]=new u.Field(this);for(this.fieldLookupCache={},p=0;p<this.fields.length;++p){var g=this.fields[p];g.parse(l,this.constantPool),this.fieldLookupCache[g.name]=g}var v=l.getUint16();for(this.methods=new Array(v),this.methodLookupCache={},p=0;v>p;p++){var _=new u.Method(this);_.parse(l,this.constantPool);var m=_.name+_.raw_descriptor;this.methodLookupCache[m]=_,this.methods[p]=_}if(this.attrs=o.makeAttributes(l,this.constantPool),l.hasBytes())throw"Leftover bytes in classfile: "+l;this.staticFields=Object.create(null)}return __extends(e,t),e.prototype.getInterfaces=function(){return this.interfaceClasses},e.prototype.getFields=function(){return this.fields},e.prototype.getMethod=function(t){var e=this.methodLookupCache[t];return void 0!==e&&e.cls===this?e:null},e.prototype.getMethods=function(){return this.methods},e.prototype.getAttribute=function(t){for(var e=this.attrs,n=0;n<e.length;n++){var r=e[n];if(r.getName()===t)return r}return null},e.prototype.getAttributes=function(t){for(var e=this.attrs,n=[],r=0;r<e.length;r++){var a=e[r];a.getName()===t&&n.push(a)}return n},e.prototype.getBootstrapMethod=function(t){var e=this.getAttribute("BootstrapMethods");return e.bootstrapMethods[t]},e.prototype.getDefaultFields=function(){return this.defaultFields?this.defaultFields:(this.constructDefaultFields(),this.defaultFields)},e.prototype._initializeStaticField=function(t,e){var r=this.fieldLookupCache[e];if(null!=r&&r.accessFlags.isStatic()){var a=r.get_attribute("ConstantValue"),o=null;if(null!=a)switch(a.value.getType()){case 8:var i=a.value;null===i.value&&(i.value=t.getThreadPool().getJVM().internString(i.stringValue)),o=i.value;break;default:o=a.value.value}return this.staticFields[e]=null!==o?o:n.initialValue(r.raw_descriptor),!0}return t.throwNewException("Ljava/lang/NoSuchFieldError;",e),!1},e.prototype.staticGet=function(t,e){return void 0!==this.staticFields[e]?this.staticFields[e]:this._initializeStaticField(t,e)?this.staticGet(t,e):void 0},e.prototype.staticPut=function(t,e,n){return void 0!==this.staticFields[e]?(this.staticFields[e]=n,!0):this._initializeStaticField(t,e)?this.staticPut(t,e,n):!1},e.prototype.getSlotMethodBase=function(){return this.slotMethodBase},e.prototype.getSlotFieldBase=function(){return this.slotFieldBase},e.prototype.setResolved=function(t,e){var n=this;this.superClass=t,null!==t?(this.slotMethodBase=this.superClass.getSlotMethodBase()+this.superClass.getMethods().length,this.slotFieldBase=this.superClass.getSlotFieldBase()+this.superClass.getFields().length):(this.slotMethodBase=0,this.slotFieldBase=0),this.methods.forEach(function(t,e){t.slot=n.slotMethodBase+e}),this.fields.forEach(function(t,e){t.slot=n.slotFieldBase+e}),this.interfaceClasses=e,this.setState(2)},e.prototype.getFieldFromSlot=function(t){if(t>=this.slotFieldBase){var e=this.fields[t-this.slotFieldBase];return void 0!==e?e:null}return null!==this.superClass?this.superClass.getFieldFromSlot(t):null},e.prototype.getMethodFromSlot=function(t){if(t>=this.slotMethodBase){var e=this.methods[t-this.slotMethodBase];return void 0!==e?e:null}return null!==this.superClass?this.superClass.getMethodFromSlot(t):null},e.prototype.tryToResolve=function(){if(1===this.getState()){var t,e=this.loader,n=null!==this.superClassRef?this.superClassRef.tryGetClass(e):null,r=[];if(null===n&&null!==this.superClassRef)return!1;for(t=0;t<this.interfaceRefs.length;t++){var a=this.interfaceRefs[t].tryGetClass(e);if(null===a)return!1;r.push(a)}this.setResolved(n,r)}return!0},e.prototype.tryToInitialize=function(){if(3===this.getState())return!0;if(2===this.getState()||this.tryToResolve()){if(null!==this.superClass&&!this.superClass.tryToInitialize())return!1;var t=this.getMethod("<clinit>()V");return null!==t?!1:(this.setState(3),!0)}return!1},e.prototype.constructDefaultFields=function(){var t=this;for(this.defaultFields=Object.create(null);null!==t;){for(var e=t.fields,r=0;r<e.length;r++){var a=e[r];if(!a.accessFlags.isStatic()){var o=n.initialValue(a.raw_descriptor);this.defaultFields[t.getInternalName()+a.name]=o}}t=t.getSuperClass()}},e.prototype.fieldLookup=function(t,e,n){var r=this.fieldLookupCache[e];return null!=r?r:(r=this._fieldLookup(t,e),null!=r||n===!0?(this.fieldLookupCache[e]=r,r):void t.throwNewException("Ljava/lang/NoSuchFieldError;","No such field found in "+this.getExternalName()+"::"+e))},e.prototype._fieldLookup=function(t,e){var n,r=0;for(r=0;r<this.fields.length;r++)if(n=this.fields[r],n.name===e)return n;var a=this.getInterfaces();for(r=0;r<a.length;r++)if(n=a[r].fieldLookup(t,e,!0),null!=n)return n;var o=this.getSuperClass();return null!=o&&(n=o.fieldLookup(t,e,!0),null!=n)?n:null},e.prototype.methodLookup=function(t,e){if(null!=this.methodLookupCache[e])return this.methodLookupCache[e];var n=this._methodLookup(e);return null==n?(t.throwNewException("Ljava/lang/NoSuchMethodError;","No such method found in "+this.getExternalName()+"::"+e),null):n},e.prototype._methodLookup=function(t){if(t in this.methodLookupCache)return this.methodLookupCache[t];var e=this.getSuperClass();if(null!=e&&(this.methodLookupCache[t]=e._methodLookup(t),null!=this.methodLookupCache[t]))return this.methodLookupCache[t];for(var n=this.getInterfaces(),r=0;r<n.length;r++){var a=n[r];if(this.methodLookupCache[t]=a._methodLookup(t),null!=this.methodLookupCache[t])return this.methodLookupCache[t]}if("Ljava/lang/invoke/MethodHandle;"===this.className){var o=""+t.slice(0,t.indexOf("("))+"([Ljava/lang/Object;)Ljava/lang/Object;",i=this.methodLookupCache[o];if(null!=i&&i.accessFlags.isNative()&&i.accessFlags.isVarArgs()&&i.cls===this)return this.methodLookupCache[t]=i}return this.methodLookupCache[t]=null},e.prototype.isCastable=function(t){return t instanceof e?this.accessFlags.isInterface()?t.accessFlags.isInterface()?this.isSubinterface(t):t.accessFlags.isInterface()?void 0:"Ljava/lang/Object;"===t.getInternalName():t.accessFlags.isInterface()?this.isSubinterface(t):this.isSubclass(t):!1},e.prototype.isSubinterface=function(t){if(this.className===t.getInternalName())return!0;for(var e=this.getInterfaces(),n=0;n<e.length;n++){var r=e[n];if(r.isSubinterface(t))return!0}return null==this.getSuperClass()?!1:this.getSuperClass().isSubinterface(t)},e.prototype.initialize=function(t,e,n){var r=this;void 0===n&&(n=!0),this.isResolved()?this.isInitialized(t)?setImmediate(function(){e(r)}):this.initLock.tryLock(t,e)&&(null!=this.superClass?this.superClass.initialize(t,function(e){null==e?r.initLock.unlock(null):r._initialize(t,function(t){r.initLock.unlock(t)})},n):this._initialize(t,function(t){r.initLock.unlock(t)})):this.resolve(t,function(a){null!==a?r.initialize(t,e,n):e(a)},n)},e.prototype._initialize=function(t,e){var n=this,r=this.getMethod("<clinit>()V");null!=r?t.runMethod(r,[],function(r){r?(n.setState(2),r.cls.isCastable(t.getBsCl().getResolvedClass("Ljava/lang/Error;"))?(t.throwException(r),e(null)):t.getBsCl().initializeClass(t,"Ljava/lang/ExceptionInInitializerError;",function(n){if(null==n)e(null);else{var a=new i.JavaObject(n),o=n.getMethod("<init>(Ljava/lang/Throwable;)V");t.runMethod(o,[a,r],function(){t.throwException(a),e(null)})}})):(n.setState(3),e(n))}):(this.setState(3),e(this))},e.prototype.isInitialized=function(t){return 3===this.getState()||this.initLock.getOwner()===t},e.prototype.resolve=function(t,e,r){var a=this;void 0===r&&(r=!0);var o=this.interfaceRefs.slice(0),i=[],s=null;null!==this.superClassRef&&o.push(this.superClassRef),n.asyncForEach(o,function(e,n){e.getClass(t,a.loader,function(t){null===t?n("Failed."):(i.length<a.interfaceRefs.length?i.push(t):s=t,n())},r)},function(t){t?e(null):(a.setResolved(s,i),e(a))})},e}(f);e.ReferenceClassData=v}),define("path",[],function(){return BrowserFS.BFSRequire("path")}),define("fs",[],function(){return BrowserFS.BFSRequire("fs")}),define("src/jar",["require","exports","path","fs"],function(t,e,n,r){var a=function(){function t(t,e){var a=this;this.attributes={},this.classpath=[],r.readFile(n.resolve(t,"META-INF/MANIFEST.MF"),function(t,n){if(t)return e(t);var r=null,o="",i="\n",s=n.toString("utf8"),u=s.indexOf("\n"),l=s.indexOf("\r");u===l+1?i="\r\n":l>-1&&(i="\r");for(var c=s.split(i),p=0;p<c.length;p++){var h=c[p];if("\r"!==h)if(0===h.length)null!==r&&(a._setAttribute(r,o),r=null);else if(" "===h.charAt(0))o+=h.substr(1);else{null!==r&&a._setAttribute(r,o);var f=h.split(":");r=f[0],o=f[1].substr(1)}}e()})}return t.prototype._setAttribute=function(t,e){if(t=t.toLowerCase(),this.attributes[t]=e,"class-path"===t)for(var n=e.split(" "),r=0;r<n.length;r++){var a=n[r];".jar"===a.substr(-4)&&this.classpath.push(a)}},t.prototype.getClassPath=function(){return this.classpath.slice(0)},t.prototype.getAttribute=function(t){return this.attributes[t.toLowerCase()]},t.prototype.toString=function(){return JSON.stringify(this.attributes)},t}();return a});var __extends=this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n};define("src/ClassLoader",["require","exports","./ClassData","./ClassLock","./util","./java_object","./logging","./assert","./jar","path","fs"],function(t,e,n,r,a,o,i,s,u,l,c){var p=(i.debug,function(){function t(){this.locks={}}return t.prototype.tryLock=function(t,e,n){return"undefined"==typeof this.locks[t]&&(this.locks[t]=new r),this.locks[t].tryLock(e,n)},t.prototype.unlock=function(t,e){this.locks[t].unlock(e),delete this.locks[t]},t.prototype.getOwner=function(t){return this.locks[t]?this.locks[t].getOwner():null},t}()),h=function(){function t(t){this.bootstrap=t,this.loadedClasses={},this.loadClassLocks=new p}return t.prototype.getLoadedClassNames=function(){return Object.keys(this.loadedClasses)},t.prototype.addClass=function(t,e){this.loadedClasses[t]=e},t.prototype.getClass=function(t){return this.loadedClasses[t]},t.prototype.defineClass=function(t,e,r){try{var a=new n.ReferenceClassData(r,this);return this.addClass(e,a),a}catch(o){return null===t?(i.error("JVM initialization failed: "+o),i.error(o.stack)):t.throwNewException("Ljava/lang/ClassFormatError;",o),null}},t.prototype.defineArrayClass=function(t){var e=new n.ArrayClassData(a.get_component_type(t),this);return this.addClass(t,e),e},t.prototype.getLoadedClass=function(t){var e=this.loadedClasses[t];if(null!=e)return e;if(a.is_primitive_type(t))return this.bootstrap.getPrimitiveClass(t);if(a.is_array_type(t)){var n=this.getLoadedClass(a.get_component_type(t));if(null!=n){var r=n.getLoader();return r===this?this.defineArrayClass(t):(e=r.getLoadedClass(t),this.addClass(t,e),e)
}}return null},t.prototype.getResolvedClass=function(t){var e=this.getLoadedClass(t);return null!==e&&(e.isResolved()||e.tryToResolve())?e:null},t.prototype.getInitializedClass=function(t,e){var n=this.getLoadedClass(e);return null!==n?n.isInitialized(t)||n.tryToInitialize()?n:null:n},t.prototype.loadClass=function(t,e,n,r){var o=this;void 0===r&&(r=!0);var i=this.getLoadedClass(e);i?setImmediate(function(){n(i)}):this.loadClassLocks.tryLock(e,t,n)&&(a.is_reference_type(e)?this._loadClass(t,e,function(t){o.loadClassLocks.unlock(e,t)},r):this.loadClass(t,a.get_component_type(e),function(t){null!=t&&o.loadClassLocks.unlock(e,o.getLoadedClass(e))},r))},t.prototype._loadClass=function(){throw new Error("Abstract method!")},t.prototype.resolveClasses=function(t,e,n){var r=this,o={};a.asyncForEach(e,function(e,n){r.resolveClass(t,e,function(t){null===t?n("Error resolving class: "+e):(o[e]=t,n())})},function(t){n(t?null:o)})},t.prototype.resolveClass=function(t,e,n,r){void 0===r&&(r=!0),this.loadClass(t,e,function(e){null===e||e.isResolved()?setImmediate(function(){n(e)}):e.resolve(t,n,r)},r)},t.prototype.initializeClass=function(t,e,n,r){void 0===r&&(r=!0),this.resolveClass(t,e,function(e){null===e||e.isInitialized(t)?setImmediate(function(){n(e)}):e.initialize(t,n,r)},r)},t.prototype.throwClassNotFoundException=function(t,e,n){t.throwNewException(n?"Ljava/lang/ClassNotFoundException;":"Ljava/lang/NoClassDefFoundError;","Cannot load class: "+a.ext_classname(e))},t.prototype.getLoaderObject=function(){throw new Error("Abstract method")},t}();e.ClassLoader=h;var f=function(e){function r(t,n,r){var o=this;e.call(this,this),this.classPath=[],this.extractionPath=l.resolve(n),this.unzipJar=a.are_in_browser()?this.unzipJarBrowser:this.unzipJarNode,this.jarFiles={},this.jarFilePaths={};var i=function(e){a.asyncForEach(t,function(t,e){o.addClassPathItem(t,function(){e()})},e)};c.exists(this.extractionPath,function(t){t?i(r):c.mkdir(o.extractionPath,function(t){t?r(new Error("Unable to create JAR file directory "+o.extractionPath+": "+t)):i(r)})})}return __extends(r,e),r.prototype.getPackageNames=function(){var t,e,n=this.getLoadedClassNames(),r={};for(t=0;t<n.length;t++)e=n[t],a.is_reference_type(e)&&(r[e.substring(1,e.lastIndexOf("/")+1)]=!0);return Object.keys(r)},r.prototype.addClassPathItem=function(t,e){var n=this,r=this.classPath;t=l.resolve(t),c.stat(t,function(r,o){r?e(!1):o.isFile()?n.unzipJar(t,function(r,o){r?e(!1):(n.jarFilePaths[t]=o,a(o,e))}):a(t,e)});var a=function(t,e){var a=r.indexOf(t);-1!==a&&r.splice(a,1),r.unshift(t);var o=l.resolve(t,"META-INF","MANIFEST.MF");c.exists(o,function(r){if(r)var a=new u(t,function(r){r||(n.jarFiles[t]=a),e(!0)});else e(!0)})}},r.prototype.getJar=function(t){return t=l.resolve(t),this.jarFilePaths.hasOwnProperty(t)?this.jarFiles[this.jarFilePaths[t]]:null},r.prototype.getPrimitiveClass=function(t){var e=this.getClass(t);return null==e&&(e=new n.PrimitiveClassData(t,this),this.addClass(t,e)),e},r.prototype._loadClass=function(t,e,n,r){var o=this;void 0===r&&(r=!0);var i=a.descriptor2typestr(e);a.asyncFind(this.classPath,function(t,e){c.exists(l.join(t,i+".class"),e)},function(a){if(a){var s=l.join(a,i+".class");c.readFile(s,function(a,i){a?(o.throwClassNotFoundException(t,e,r),n(null)):n(o.defineClass(t,e,i))})}else o.throwClassNotFoundException(t,e,r),n(null)})},r.prototype.unzipJarBrowser=function(t,e){var n=l.resolve(this.extractionPath,l.basename(t,".jar")),r=c.getRootFS();try{r.umount(n)}catch(a){}c.readFile(t,function(a,o){var i;if(a)return e(a);try{i=new BrowserFS.FileSystem.ZipFS(o,l.basename(t)),r.mount(n,i),e(null,n)}catch(s){e(s)}})},r.prototype._extractAllTo=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];n=l.join(e,n),r.options.dir||"/"===n.slice(-1)?c.existsSync(n)||c.mkdirSync(n):c.writeFileSync(n,r._data,"binary")}},r.prototype.unzipJarNode=function(e,n){var r=t("node-zip"),a=new r(c.readFileSync(e,"binary"),{base64:!1,checkCRC32:!0}),o=l.resolve(this.extractionPath,l.basename(e,".jar"));try{c.existsSync(o)||c.mkdirSync(o),this._extractAllTo(a.files,o),setImmediate(function(){return n(null,o)})}catch(i){setImmediate(function(){return n(i)})}},r.prototype.getLoadedClassFiles=function(t){var e=this,n=this.getLoadedClassNames(),r=[];a.asyncForEach(n,function(t,n){if(a.is_reference_type(t)){var o=""+a.descriptor2typestr(t)+".class";a.asyncForEach(e.classPath,function(t,e){var a=l.resolve(t,o);c.exists(a,function(t){t?c.realpath(a,function(t,e){t||(r.push(e),n())}):e()})},n)}else n()},function(){t(r)})},r.prototype.getLoaderObject=function(){return null},r.prototype.getClassPath=function(){return this.classPath.slice(0).reverse()},r}(h);e.BootstrapClassLoader=f;var d=function(t){function e(e,n){t.call(this,e),this.loaderObj=n}return __extends(e,t),e.prototype.getLoadClassMethod=function(t){return this.loadClassMethod?this.loadClassMethod:this.loadClassMethod=this.loaderObj.cls.methodLookup(t,"loadClass(Ljava/lang/String;)Ljava/lang/Class;")},e.prototype._loadClass=function(t,e,n,r){var i=this;void 0===r&&(r=!0);var s=this.getLoadClassMethod(t);s?t.runMethod(s,[this.loaderObj,o.initString(this.bootstrap,a.ext_classname(e))],function(a,o){if(a)i.throwClassNotFoundException(t,e,r),n(null);else{var s=o.$cls;i.addClass(e,s),n(s)}}):setImmediate(function(){n(null)})},e.prototype.getLoaderObject=function(){return this.loaderObj},e}(h);e.CustomClassLoader=d;var g=function(t){function e(e,n){t.call(this,n),this.$loader=new d(e.getBsCl(),this)}return __extends(e,t),e}(o.JavaObject);e.JavaClassLoaderObject=g}),define("src/opcodes",["require","exports","./gLong","./util","./java_object","./ClassLoader","./enums","./assert","./methods"],function(t,e,n,r,a,o,i){function s(t,e,n){return null==n?(h(t,e,"Ljava/lang/NullPointerException;",""),!0):!1}function u(t){return t.pop(),t.pop()}function l(t,e,n){t.setStatus(7),n.initialize(t,function(e){null!=e&&t.setStatus(2)},!1),e.returnToThreadLoop=!0}function c(t,e,n){n.name===e.method.cls.getInternalName()&&(n.cls=e.method.cls),t.setStatus(7),n.getClass(t,e.getLoader(),function(e){null!=e&&e.initialize(t,function(e){null!=e&&t.setStatus(2)},!1)},!1),e.returnToThreadLoop=!0}function p(t,e,n){t.setStatus(7),n.getClass(t,e.getLoader(),function(e){null!=e&&t.setStatus(2)},!1),e.returnToThreadLoop=!0}function h(t,e,n,r){t.throwNewException(n,r),e.returnToThreadLoop=!0}var f=a.JavaObject;e.isNull=s,e.pop2=u,e.initializeClassFromClass=l,e.initializeClass=c,e.resolveClass=p,e.throwException=h,e.ArrayTypes={4:"Z",5:"C",6:"F",7:"D",8:"B",9:"S",10:"I",11:"J"};var d=function(){function t(){}return t._aload_32=function(t,e){var n=e.stack,r=n.pop(),a=n.pop();if(!s(t,e,a)){var o=a.array.length;0>r||r>=o?h(t,e,"Ljava/lang/ArrayIndexOutOfBoundsException;",""+r+" not in length "+o+" array of type "+a.cls.getInternalName()):(n.push(a.array[r]),e.pc++)}},t._aload_64=function(t,e){var n=e.stack,r=n.pop(),a=n.pop();if(!s(t,e,a)){var o=a.array.length;0>r||r>=o?h(t,e,"Ljava/lang/ArrayIndexOutOfBoundsException;",""+r+" not in length "+o+" array of type "+a.cls.getInternalName()):(n.push(a.array[r]),n.push(null),e.pc++)}},t._astore_32=function(t,e){var n=e.stack,r=n.pop(),a=n.pop(),o=n.pop();if(!s(t,e,o)){var i=o.array.length;0>a||a>=i?h(t,e,"Ljava/lang/ArrayIndexOutOfBoundsException;",""+a+" not in length "+i+" array of type "+o.cls.getInternalName()):(o.array[a]=r,e.pc++)}},t._astore_64=function(t,e){var n=e.stack,r=u(n),a=n.pop(),o=n.pop();if(!s(t,e,o)){var i=o.array.length;0>a||a>=i?h(t,e,"Ljava/lang/ArrayIndexOutOfBoundsException;",""+a+" not in length "+i+" array of type "+o.cls.getInternalName()):(o.array[a]=r,e.pc++)}},t.aconst_null=function(t,e){e.stack.push(null),e.pc++},t._const_0_32=function(t,e){e.stack.push(0),e.pc++},t._const_1_32=function(t,e){e.stack.push(1),e.pc++},t._const_2_32=function(t,e){e.stack.push(2),e.pc++},t.iconst_m1=function(t,e){e.stack.push(-1),e.pc++},t.iconst_3=function(t,e){e.stack.push(3),e.pc++},t.iconst_4=function(t,e){e.stack.push(4),e.pc++},t.iconst_5=function(t,e){e.stack.push(5),e.pc++},t.lconst_0=function(t,e){e.stack.push(n.ZERO,null),e.pc++},t.lconst_1=function(t,e){e.stack.push(n.ONE,null),e.pc++},t.dconst_0=function(t,e){e.stack.push(0,null),e.pc++},t.dconst_1=function(t,e){e.stack.push(1,null),e.pc++},t._load_32=function(t,e,n,r){e.stack.push(e.locals[n.readUInt8(r+1)]),e.pc+=2},t._load_0_32=function(t,e){e.stack.push(e.locals[0]),e.pc++},t._load_1_32=function(t,e){e.stack.push(e.locals[1]),e.pc++},t._load_2_32=function(t,e){e.stack.push(e.locals[2]),e.pc++},t._load_3_32=function(t,e){e.stack.push(e.locals[3]),e.pc++},t._load_64=function(t,e,n,r){e.stack.push(e.locals[n.readUInt8(r+1)],null),e.pc+=2},t._load_0_64=function(t,e){e.stack.push(e.locals[0],null),e.pc++},t._load_1_64=function(t,e){e.stack.push(e.locals[1],null),e.pc++},t._load_2_64=function(t,e){e.stack.push(e.locals[2],null),e.pc++},t._load_3_64=function(t,e){e.stack.push(e.locals[3],null),e.pc++},t._store_32=function(t,e,n,r){e.locals[n.readUInt8(r+1)]=e.stack.pop(),e.pc+=2},t._store_0_32=function(t,e){e.locals[0]=e.stack.pop(),e.pc++},t._store_1_32=function(t,e){e.locals[1]=e.stack.pop(),e.pc++},t._store_2_32=function(t,e){e.locals[2]=e.stack.pop(),e.pc++},t._store_3_32=function(t,e){e.locals[3]=e.stack.pop(),e.pc++},t._store_64=function(t,e,n,r){var a=n.readUInt8(r+1);e.locals[a+1]=e.stack.pop(),e.locals[a]=e.stack.pop(),e.pc+=2},t._store_0_64=function(t,e){e.locals[1]=e.stack.pop(),e.locals[0]=e.stack.pop(),e.pc++},t._store_1_64=function(t,e){e.locals[2]=e.stack.pop(),e.locals[1]=e.stack.pop(),e.pc++},t._store_2_64=function(t,e){e.locals[3]=e.stack.pop(),e.locals[2]=e.stack.pop(),e.pc++},t._store_3_64=function(t,e){e.locals[4]=e.stack.pop(),e.locals[3]=e.stack.pop(),e.pc++},t.sipush=function(t,e,n,r){e.stack.push(n.readInt16BE(r+1)),e.pc+=3},t.bipush=function(t,e,n,r){e.stack.push(n.readInt8(r+1)),e.pc+=2},t.pop=function(t,e){e.stack.pop(),e.pc++},t.pop2=function(t,e){e.stack.pop(),e.stack.pop(),e.pc++},t.dup=function(t,e){var n=e.stack,r=n.pop();n.push(r,r),e.pc++},t.dup_x1=function(t,e){var n=e.stack,r=n.pop(),a=n.pop();n.push(r,a,r),e.pc++},t.dup_x2=function(t,e){var n=e.stack,r=n.pop(),a=n.pop(),o=n.pop();n.push(r,o,a,r),e.pc++},t.dup2=function(t,e){var n=e.stack,r=n.pop(),a=n.pop();n.push(a,r,a,r),e.pc++},t.dup2_x1=function(t,e){var n=e.stack,r=n.pop(),a=n.pop(),o=n.pop();n.push(a,r,o,a,r),e.pc++},t.dup2_x2=function(t,e){var n=e.stack,r=n.pop(),a=n.pop(),o=n.pop(),i=n.pop();n.push(a,r,i,o,a,r),e.pc++},t.swap=function(t,e){var n=e.stack,r=n.pop(),a=n.pop();n.push(r,a),e.pc++},t.iadd=function(t,e){var n=e.stack;n.push(n.pop()+n.pop()|0),e.pc++},t.ladd=function(t,e){var n=e.stack;n.push(u(n).add(u(n)),null),e.pc++},t.fadd=function(t,e){var n=e.stack;n.push(r.wrapFloat(n.pop()+n.pop())),e.pc++},t.dadd=function(t,e){var n=e.stack;n.push(u(n)+u(n),null),e.pc++},t.isub=function(t,e){var n=e.stack;n.push(-n.pop()+n.pop()|0),e.pc++},t.fsub=function(t,e){var n=e.stack;n.push(r.wrapFloat(-n.pop()+n.pop())),e.pc++},t.dsub=function(t,e){var n=e.stack;n.push(-u(n)+u(n),null),e.pc++},t.lsub=function(t,e){var n=e.stack;n.push(u(n).negate().add(u(n)),null),e.pc++},t.imul=function(t,e){var n=e.stack;n.push(Math.imul(n.pop(),n.pop())),e.pc++},t.lmul=function(t,e){var n=e.stack;n.push(u(n).multiply(u(n)),null),e.pc++},t.fmul=function(t,e){var n=e.stack;n.push(r.wrapFloat(n.pop()*n.pop())),e.pc++},t.dmul=function(t,e){var n=e.stack;n.push(u(n)*u(n),null),e.pc++},t.idiv=function(t,e){var n=e.stack,r=n.pop(),a=n.pop();0===r?h(t,e,"Ljava/lang/ArithmeticException;","/ by zero"):(n.push(a===i.Constants.INT_MIN&&-1===r?a:a/r|0),e.pc++)},t.ldiv=function(t,e){var n=e.stack,r=u(n),a=u(n);r.isZero()?h(t,e,"Ljava/lang/ArithmeticException;","/ by zero"):(n.push(a.div(r),null),e.pc++)},t.fdiv=function(t,e){var n=e.stack,a=n.pop();n.push(r.wrapFloat(n.pop()/a)),e.pc++},t.ddiv=function(t,e){var n=e.stack,r=u(n);n.push(u(n)/r,null),e.pc++},t.irem=function(t,e){var n=e.stack,r=n.pop(),a=n.pop();0===r?h(t,e,"Ljava/lang/ArithmeticException;","/ by zero"):(n.push(a%r),e.pc++)},t.lrem=function(t,e){var n=e.stack,r=u(n),a=u(n);r.isZero()?h(t,e,"Ljava/lang/ArithmeticException;","/ by zero"):(n.push(a.modulo(r),null),e.pc++)},t.frem=function(t,e){var n=e.stack,r=n.pop();n.push(n.pop()%r),e.pc++},t.drem=function(t,e){var n=e.stack,r=u(n);n.push(u(n)%r,null),e.pc++},t.ineg=function(t,e){var n=e.stack;n.push(0|-n.pop()),e.pc++},t.lneg=function(t,e){var n=e.stack;n.push(u(n).negate(),null),e.pc++},t.fneg=function(t,e){var n=e.stack;n.push(-n.pop()),e.pc++},t.dneg=function(t,e){var n=e.stack;n.push(-u(n),null),e.pc++},t.ishl=function(t,e){var n=e.stack,r=n.pop();n.push(n.pop()<<r),e.pc++},t.lshl=function(t,e){var r=e.stack,a=r.pop();r.push(u(r).shiftLeft(n.fromInt(a)),null),e.pc++},t.ishr=function(t,e){var n=e.stack,r=n.pop();n.push(n.pop()>>r),e.pc++},t.lshr=function(t,e){var r=e.stack,a=r.pop();r.push(u(r).shiftRight(n.fromInt(a)),null),e.pc++},t.iushr=function(t,e){var n=e.stack,r=n.pop();n.push(n.pop()>>>r|0),e.pc++},t.lushr=function(t,e){var r=e.stack,a=r.pop();r.push(u(r).shiftRightUnsigned(n.fromInt(a)),null),e.pc++},t.iand=function(t,e){var n=e.stack;n.push(n.pop()&n.pop()),e.pc++},t.land=function(t,e){var n=e.stack;n.push(u(n).and(u(n)),null),e.pc++},t.ior=function(t,e){var n=e.stack;n.push(n.pop()|n.pop()),e.pc++},t.lor=function(t,e){var n=e.stack;n.push(u(n).or(u(n)),null),e.pc++},t.ixor=function(t,e){var n=e.stack;n.push(n.pop()^n.pop()),e.pc++},t.lxor=function(t,e){var n=e.stack;n.push(u(n).xor(u(n)),null),e.pc++},t.iinc=function(t,e,n,r){var a=n.readUInt8(r+1),o=n.readInt8(r+2);e.locals[a]=e.locals[a]+o|0,e.pc+=3},t.i2l=function(t,e){var r=e.stack;r.push(n.fromInt(r.pop()),null),e.pc++},t.i2f=function(t,e){e.pc++},t.i2d=function(t,e){e.stack.push(null),e.pc++},t.l2i=function(t,e){var n=e.stack;n.pop(),n.push(n.pop().toInt()),e.pc++},t.l2f=function(t,e){var n=e.stack;n.pop(),n.push(n.pop().toNumber()),e.pc++},t.l2d=function(t,e){var n=e.stack;n.pop(),n.push(n.pop().toNumber(),null),e.pc++},t.f2i=function(t,e){var n=e.stack;n.push(r.float2int(n.pop())),e.pc++},t.f2l=function(t,e){var r=e.stack;r.push(n.fromNumber(r.pop()),null),e.pc++},t.f2d=function(t,e){e.stack.push(null),e.pc++},t.d2i=function(t,e){var n=e.stack;n.pop(),n.push(r.float2int(n.pop())),e.pc++},t.d2l=function(t,e){var r=e.stack,a=u(r);a===Number.POSITIVE_INFINITY?r.push(n.MAX_VALUE,null):a===Number.NEGATIVE_INFINITY?r.push(n.MIN_VALUE,null):r.push(n.fromNumber(a),null),e.pc++},t.d2f=function(t,e){var n=e.stack;n.pop(),n.push(r.wrapFloat(n.pop())),e.pc++},t.i2b=function(t,e){var n=e.stack;n.push(n.pop()<<24>>24),e.pc++},t.i2c=function(t,e){var n=e.stack;n.push(65535&n.pop()),e.pc++},t.i2s=function(t,e){var n=e.stack;n.push(n.pop()<<16>>16),e.pc++},t.lcmp=function(t,e){var n=e.stack,r=u(n);n.push(u(n).compare(r)),e.pc++},t.fcmpl=function(t,e){var n=e.stack,r=n.pop(),a=n.pop();n.push(a===r?0:a>r?1:-1),e.pc++},t.fcmpg=function(t,e){var n=e.stack,r=n.pop(),a=n.pop();n.push(a===r?0:r>a?-1:1),e.pc++},t.dcmpl=function(t,e){var n=e.stack,r=u(n),a=u(n);n.push(a===r?0:a>r?1:-1),e.pc++},t.dcmpg=function(t,e){var n=e.stack,r=u(n),a=u(n);n.push(a===r?0:r>a?-1:1),e.pc++},t.ifeq=function(t,e,n,r){e.pc+=0===e.stack.pop()?n.readInt16BE(r+1):3},t.ifne=function(t,e,n,r){e.pc+=0!==e.stack.pop()?n.readInt16BE(r+1):3},t.iflt=function(t,e,n,r){e.pc+=e.stack.pop()<0?n.readInt16BE(r+1):3},t.ifge=function(t,e,n,r){e.pc+=e.stack.pop()>=0?n.readInt16BE(r+1):3},t.ifgt=function(t,e,n,r){e.pc+=e.stack.pop()>0?n.readInt16BE(r+1):3},t.ifle=function(t,e,n,r){e.pc+=e.stack.pop()<=0?n.readInt16BE(r+1):3},t.if_icmpeq=function(t,e,n,r){var a=e.stack.pop(),o=e.stack.pop();e.pc+=o===a?n.readInt16BE(r+1):3},t.if_icmpne=function(t,e,n,r){var a=e.stack.pop(),o=e.stack.pop();e.pc+=o!==a?n.readInt16BE(r+1):3},t.if_icmplt=function(t,e,n,r){var a=e.stack.pop(),o=e.stack.pop();e.pc+=a>o?n.readInt16BE(r+1):3},t.if_icmpge=function(t,e,n,r){var a=e.stack.pop(),o=e.stack.pop();e.pc+=o>=a?n.readInt16BE(r+1):3},t.if_icmpgt=function(t,e,n,r){var a=e.stack.pop(),o=e.stack.pop();e.pc+=o>a?n.readInt16BE(r+1):3},t.if_icmple=function(t,e,n,r){var a=e.stack.pop(),o=e.stack.pop();e.pc+=a>=o?n.readInt16BE(r+1):3},t.if_acmpeq=function(t,e,n,r){var a=e.stack.pop(),o=e.stack.pop();e.pc+=o===a?n.readInt16BE(r+1):3},t.if_acmpne=function(t,e,n,r){var a=e.stack.pop(),o=e.stack.pop();e.pc+=o!==a?n.readInt16BE(r+1):3},t.goto=function(t,e,n,r){e.pc+=n.readInt16BE(r+1)},t.jsr=function(t,e,n,r){e.stack.push(e.pc+3),e.pc+=n.readInt16BE(r+1)},t.ret=function(t,e,n,r){e.pc=e.locals[n.readUInt8(r+1)]},t.tableswitch=function(t,e,n,r){r+=(4-(r+1)%4)%4+1;var a=n.readInt32BE(r),o=n.readInt32BE(r+4),i=n.readInt32BE(r+8),s=e.stack.pop();e.pc+=s>=o&&i>=s?n.readInt32BE(r+12+4*(s-o)):a},t.lookupswitch=function(t,e,n,r){r+=(4-(r+1)%4)%4+1;var a,o=n.readInt32BE(r),i=n.readInt32BE(r+4),s=e.stack.pop();for(r+=8,a=0;i>a;a++){if(n.readInt32BE(r)===s)return void(e.pc+=n.readInt32BE(r+4));r+=8}e.pc+=o},t.return=function(t,e){e.returnToThreadLoop=!0,(!e.method.accessFlags.isSynchronized()||e.method.method_lock(t,e).exit(t))&&t.asyncReturn()},t._return_32=function(t,e){e.returnToThreadLoop=!0,(!e.method.accessFlags.isSynchronized()||e.method.method_lock(t,e).exit(t))&&t.asyncReturn(e.stack[0])},t._return_64=function(t,e){e.returnToThreadLoop=!0,(!e.method.accessFlags.isSynchronized()||e.method.method_lock(t,e).exit(t))&&t.asyncReturn(e.stack[0],null)},t.getstatic=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),o=e.getLoader(),i=a.classInfo.tryGetClass(o);if(null!=i&&i.isInitialized(t)){var s=i.fieldLookup(t,a.fieldName).cls;null!=s&&(s.isInitialized(t)?("J"===a.nameAndTypeInfo.descriptor||"D"===a.nameAndTypeInfo.descriptor?n.writeUInt8(209,r):n.writeUInt8(208,r),a.owningClass=s):l(t,e,s))}else c(t,e,a.classInfo)},t.getstatic_fast32=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1));e.stack.push(a.owningClass.staticGet(t,a.fieldName)),e.pc+=3},t.getstatic_fast64=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1));e.stack.push(a.owningClass.staticGet(t,a.fieldName),null),e.pc+=3},t.putstatic=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),o=e.getLoader(),i=a.classInfo.tryGetClass(o);if(null!=i&&i.isInitialized(t)){var s=i.fieldLookup(t,a.fieldName).cls;null!=s&&(s.isInitialized(t)?("J"===a.nameAndTypeInfo.descriptor||"D"===a.nameAndTypeInfo.descriptor?n.writeUInt8(218,r):n.writeUInt8(217,r),a.owningClass=s):l(t,e,s))}else c(t,e,a.classInfo)},t.putstatic_fast32=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1));a.owningClass.staticPut(t,a.fieldName,e.stack.pop()),e.pc+=3},t.putstatic_fast64=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1));a.owningClass.staticPut(t,a.fieldName,u(e.stack)),e.pc+=3},t.getfield=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),o=e.getLoader(),i=e.stack[e.stack.length-1];if(!s(t,e,i)){var u=a.classInfo.tryGetClass(o);if(null!=u){var l=u.fieldLookup(t,a.fieldName);null!=l?("J"==l.type||"D"==l.type?n.writeUInt8(220,r):n.writeUInt8(219,r),a.fullFieldName=l.cls.getInternalName()+a.fieldName):e.returnToThreadLoop=!0}else p(t,e,a.classInfo)}},t.getfield_fast32=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),o=e.stack,i=o.pop();if(!s(t,e,i)){var u=i.get_field(t,a.fullFieldName);void 0!==u?(o.push(u),e.pc+=3):e.returnToThreadLoop=!0}},t.getfield_fast64=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),o=e.stack,i=o.pop();if(!s(t,e,i)){var u=i.get_field(t,a.fullFieldName);void 0!==u?(o.push(u,null),e.pc+=3):e.returnToThreadLoop=!0}},t.putfield=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),o=e.getLoader(),i="J"==a.nameAndTypeInfo.descriptor||"D"==a.nameAndTypeInfo.descriptor,u=e.stack[e.stack.length-(i?3:2)];if(!s(t,e,u)){var l=a.classInfo.tryGetClass(o);if(null!=l){var c=l.fieldLookup(t,a.fieldName);null!=c?(i?n.writeUInt8(222,r):n.writeUInt8(221,r),a.fullFieldName=c.cls.getInternalName()+a.fieldName):e.returnToThreadLoop=!0}else p(t,e,a.classInfo)}},t.putfield_fast32=function(t,e,n,r){var a=e.stack,o=a.pop(),i=a.pop(),u=e.method.cls.constantPool.get(n.readUInt16BE(r+1));s(t,e,i)||(i.set_field(t,u.fullFieldName,o)?e.pc+=3:e.returnToThreadLoop=!0)},t.putfield_fast64=function(t,e,n,r){var a=e.stack,o=u(a),i=a.pop(),l=e.method.cls.constantPool.get(n.readUInt16BE(r+1));s(t,e,i)||(i.set_field(t,l.fullFieldName,o)?e.pc+=3:e.returnToThreadLoop=!0)},t.invokevirtual=function(t,e,n,r){var a,o=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),i=e.getLoader(),u=1+o.getParamWordSize(),l=e.stack,p=l[l.length-u];if(!s(t,e,p))if(o.classInfo.tryGetClass(i))if(o.ensureMethodSet(t))if(a=o.method,a.isSignaturePolymorphic())switch(a.name){case"invokeBasic":n.writeUInt8(244,r);break;case"invoke":case"invokeExact":null!==o.memberName?n.writeUInt8(243,r):(t.setStatus(7),o.resolveMemberName(t,e.getLoader(),e.method.cls,function(e){e?t.throwException(e):t.setStatus(2)}),e.returnToThreadLoop=!0);break;default:h(t,e,"Ljava/lang/AbstractMethodError;","Invalid signature polymorphic method: "+a.full_signature)}else n.writeUInt8(241,r);else e.returnToThreadLoop=!0;else c(t,e,o.classInfo)},t.invokevirtual_fast=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),o=1+a.getParamWordSize(),i=e.stack,u=i[i.length-o];if(!s(t,e,u)){var l=u.cls.methodLookup(t,a.methodSignature);null!=l?(t.runMethod(l,l.takeArgs(i)),e.returnToThreadLoop=!0):e.returnToThreadLoop=!0}},t.invokeinterface=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),o=a.classInfo.tryGetClass(e.getLoader());null!=o&&o.isInitialized(t)?n.writeUInt8(242,r):c(t,e,a.classInfo)},t.invokeinterface_fast=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),o=n.readUInt8(r+3),i=e.stack,u=i[i.length-o];if(!s(t,e,u)){var l=u.cls.methodLookup(t,a.methodSignature);null!=l?(t.runMethod(l,l.takeArgs(i)),e.returnToThreadLoop=!0):e.returnToThreadLoop=!0}},t.invokedynamic=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1));t.setStatus(7),a.constructCallSiteObject(t,e.getLoader(),e.method.cls,r,function(){n.writeUInt8(248,r),t.setStatus(2)}),e.returnToThreadLoop=!0},t.invokedynamic_fast=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),o=a.getCallSiteObject(r),i=o[1],s=o[0].vmtarget,u=e.stack;null!==i&&u.push(i),t.runMethod(s,s.takeArgs(u)),e.returnToThreadLoop=!0},t.invokehandle=function(t,e,n,r){var a,o=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),i=e.stack,u=o.memberName.vmtarget,l=u.getParamWordSize(),c=o.appendix;null!==c&&i.push(c),a=i[i.length-l],s(t,e,a)||(t.runMethod(u,u.takeArgs(i)),e.returnToThreadLoop=!0)},t.invokebasic=function(t,e,n,r){var a,o,i,u=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),l=1+u.getParamWordSize(),c=e.stack,p=c[c.length-l];s(t,e,p)||(a=p.get_field(t,"Ljava/lang/invoke/MethodHandle;form"),o=a.get_field(t,"Ljava/lang/invoke/LambdaForm;vmentry"),i=o.vmtarget,t.runMethod(i,i.takeArgs(c)),e.returnToThreadLoop=!0)},t.linktospecial=function(t,e,n,r){var a,o=(e.method.cls.constantPool.get(n.readUInt16BE(r+1)),e.stack),i=o.pop();a=i.vmtarget,t.runMethod(a,a.takeArgs(o)),e.returnToThreadLoop=!0},t.linktovirtual=function(t,e,n,r){var a,o=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),i=o.getParamWordSize(),u=e.stack,l=u[u.length-i],c=u.pop();a=c.vmtarget,s(t,e,l)||(a=l.cls.methodLookup(t,a.name+a.raw_descriptor),null!==a&&(a.isSignaturePolymorphic()?(t.runMethod(a,u.slice(u.length-(i-1))),u.length-=i-1):t.runMethod(a,a.takeArgs(u))),e.returnToThreadLoop=!0)},t.linktointerface=function(t,e,n,r){var a,o=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),i=o.getParamWordSize(),u=e.stack,l=u[u.length-i],c=u.pop();a=c.vmtarget,s(t,e,l)||(a=l.cls.methodLookup(t,a.name+a.raw_descriptor),null!=a&&t.runMethod(a,a.takeArgs(u)),e.returnToThreadLoop=!0)},t.breakpoint=function(t,e){h(t,e,"Ljava/lang/Error;","breakpoint not implemented.")},t.invokespecial=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1));if(null!==a.method)n.writeUInt8(223,r);else{var o=a.classInfo.tryGetClass(e.getLoader());null!=o&&o.isInitialized(t)?a.ensureMethodSet(t)?n.writeUInt8(223,r):e.returnToThreadLoop=!0:c(t,e,a.classInfo)}},t.invokespecial_fast=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),o=a.method;t.runMethod(o,o.takeArgs(e.stack)),e.returnToThreadLoop=!0},t.invokestatic=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1));if(null!==a.method){var o=240;if(a.method.isSignaturePolymorphic())switch(a.method.name){case"linkToVirtual":o=247;break;case"linkToStatic":case"linkToSpecial":o=245;break;case"linkToInterface":o=246}n.writeUInt8(o,r)}else{var i=a.classInfo.tryGetClass(e.getLoader());null!=i&&i.isInitialized(t)?a.ensureMethodSet(t)||(e.returnToThreadLoop=!0):c(t,e,a.classInfo)}},t.invokestatic_fast=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),o=a.method;t.runMethod(o,o.takeArgs(e.stack)),e.returnToThreadLoop=!0},t.new=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),o=a.tryGetClass(e.getLoader());null!=o&&o.isInitialized(t)?o.isCastable(t.getBsCl().getResolvedClass("Ljava/lang/ClassLoader;"))?n.writeUInt8(211,r):o.isCastable(t.getBsCl().getResolvedClass("Ljava/lang/Thread;"))?n.writeUInt8(212,r):n.writeUInt8(210,r):c(t,e,a)},t.new_cl_fast=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),i=a.cls;e.stack.push(new o.JavaClassLoaderObject(t,i)),e.pc+=3},t.new_thread_fast=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),o=a.cls;e.stack.push(t.getThreadPool().newThread(o)),e.pc+=3},t.new_fast=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),o=a.cls;e.stack.push(new f(o)),e.pc+=3},t.newarray=function(t,n,r,o){var i=n.stack,s="["+e.ArrayTypes[r.readUInt8(o+1)],u=n.getLoader().getInitializedClass(t,s),l=a.heapNewArray(t,u,i.pop());void 0!==l?(i.push(l),n.pc+=2):n.returnToThreadLoop=!0},t.anewarray=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),o=a.tryGetClass(e.getLoader());null!=o?(n.writeUInt8(213,r),a.getArrayClass(e.getLoader())):p(t,e,a)},t.anewarray_fast=function(t,e,n,r){var o=e.stack,i=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),s=a.heapNewArray(t,i.arrayClass,o.pop());void 0!==s?(o.push(s),e.pc+=3):e.returnToThreadLoop=!0},t.arraylength=function(t,e){var n=e.stack,r=n.pop();s(t,e,r)||(n.push(r.array.length),e.pc++)},t.athrow=function(t,e){t.throwException(e.stack.pop()),e.returnToThreadLoop=!0},t.checkcast=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),o=a.tryGetClass(e.getLoader());null!=o?n.writeUInt8(214,r):p(t,e,a)},t.checkcast_fast=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),o=a.cls,i=e.stack,s=i[i.length-1];if(null==s||s.cls.isCastable(o))e.pc+=3;else{var u=o.getExternalName(),l=s.cls.getExternalName();h(t,e,"Ljava/lang/ClassCastException;",""+l+" cannot be cast to "+u)}},t.instanceof=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),o=e.getLoader(),i=a.tryGetClass(o);null!=i?n.writeUInt8(215,r):p(t,e,a)},t.instanceof_fast=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),o=a.cls,i=e.stack,s=i.pop();i.push(null!=s&&s.cls.isCastable(o)?1:0),e.pc+=3},t.monitorenter=function(t,e){var n=e.stack,r=n.pop(),a=function(){e.pc++};r.getMonitor().enter(t,a)?a():e.returnToThreadLoop=!0},t.monitorexit=function(t,e){var n=e.stack.pop();n.getMonitor().exit(t)?e.pc++:e.returnToThreadLoop=!0},t.multianewarray=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),o=a.tryGetClass(e.getLoader());null==o?c(t,e,a):n.writeUInt8(216,r)},t.multianewarray_fast=function(t,e,n,r){var o=e.method.cls.constantPool.get(n.readUInt16BE(r+1)),i=e.stack,s=n.readUInt8(r+3),u=i.splice(-s,s),l=a.heapMultiNewArray(t,e.getLoader(),o.name,u);void 0!==l?(i.push(l),e.pc+=4):e.returnToThreadLoop=!0},t.ifnull=function(t,e,n,r){e.pc+=null==e.stack.pop()?n.readInt16BE(r+1):3},t.ifnonnull=function(t,e,n,r){e.pc+=null!=e.stack.pop()?n.readInt16BE(r+1):3},t.goto_w=function(t,e,n,r){e.pc+=n.readInt32BE(r+1)},t.jsr_w=function(t,e,n,r){e.stack.push(e.pc+5),e.pc+=n.readInt32BE(r+1)},t.nop=function(t,e){e.pc+=1},t.ldc=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt8(r+1));switch(a.getType()){case 8:var o=a;null==o.value&&(o.value=t.getThreadPool().getJVM().internString(o.stringValue)),e.stack.push(o.value),e.pc+=2;break;case 7:var i=a;t.setStatus(7),i.getClass(t,e.getLoader(),function(n){null!=n&&(e.stack.push(n.getClassObject(t)),e.pc+=2,t.setStatus(2))},!1),e.returnToThreadLoop=!0;break;case 15:var s=a;null!==s.methodHandle?(e.stack.push(s.methodHandle),e.pc+=2):(t.setStatus(7),s.constructMethodHandle(t,e.method.cls,e.getLoader(),function(n,r){n?t.throwException(n):(e.stack.push(r),e.pc+=2,t.setStatus(2))}),e.returnToThreadLoop=!0);break;case 16:t.setStatus(7),a.getMethodType(t,e.getLoader(),function(n,r){n?t.throwException(n):(e.stack.push(r),e.pc+=2,t.setStatus(2))}),e.returnToThreadLoop=!0;break;case 3:case 5:case 4:case 6:e.stack.push(a.value),e.pc+=2}},t.ldc_w=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1));switch(a.getType()){case 8:var o=a;null==o.value&&(o.value=t.getThreadPool().getJVM().internString(o.stringValue)),e.stack.push(o.value),e.pc+=3;break;case 7:var i=a;t.setStatus(7),i.getClass(t,e.getLoader(),function(n){null!=n&&(e.stack.push(n.getClassObject(t)),e.pc+=3,t.setStatus(2))},!1),e.returnToThreadLoop=!0;break;case 15:var s=a;null!==s.methodHandle?(e.stack.push(s.methodHandle),e.pc+=3):(t.setStatus(7),s.constructMethodHandle(t,e.method.cls,e.getLoader(),function(n,r){n?t.throwException(n):(e.stack.push(r),e.pc+=3,t.setStatus(2))}),e.returnToThreadLoop=!0);break;case 16:t.setStatus(7),a.getMethodType(t,e.getLoader(),function(n,r){n?t.throwException(n):(e.stack.push(r),e.pc+=3,t.setStatus(2))}),e.returnToThreadLoop=!0;break;case 3:case 5:case 4:case 6:e.stack.push(a.value),e.pc+=3}},t.ldc2_w=function(t,e,n,r){var a=e.method.cls.constantPool.get(n.readUInt16BE(r+1));e.stack.push(a.value,null),e.pc+=3},t.wide=function(t,e,n,r){var a=n.readUInt16BE(r+2);switch(e.pc+=4,n.readUInt8(r+1)){case 21:case 23:case 25:e.stack.push(e.locals[a]);break;case 22:case 24:e.stack.push(e.locals[a],null);break;case 54:case 56:case 58:e.locals[a]=e.stack.pop();break;case 55:case 57:e.locals[a+1]=e.stack.pop(),e.locals[a]=e.stack.pop();break;case 169:e.pc=e.locals[a];break;case 132:var o=n.readInt16BE(r+4);e.locals[a]=e.locals[a]+o|0,e.pc+=2}},t.iaload=t._aload_32,t.faload=t._aload_32,t.aaload=t._aload_32,t.baload=t._aload_32,t.caload=t._aload_32,t.saload=t._aload_32,t.daload=t._aload_64,t.laload=t._aload_64,t.iastore=t._astore_32,t.fastore=t._astore_32,t.aastore=t._astore_32,t.bastore=t._astore_32,t.castore=t._astore_32,t.sastore=t._astore_32,t.lastore=t._astore_64,t.dastore=t._astore_64,t.iconst_0=t._const_0_32,t.iconst_1=t._const_1_32,t.iconst_2=t._const_2_32,t.fconst_0=t._const_0_32,t.fconst_1=t._const_1_32,t.fconst_2=t._const_2_32,t.iload=t._load_32,t.iload_0=t._load_0_32,t.iload_1=t._load_1_32,t.iload_2=t._load_2_32,t.iload_3=t._load_3_32,t.fload=t._load_32,t.fload_0=t._load_0_32,t.fload_1=t._load_1_32,t.fload_2=t._load_2_32,t.fload_3=t._load_3_32,t.aload=t._load_32,t.aload_0=t._load_0_32,t.aload_1=t._load_1_32,t.aload_2=t._load_2_32,t.aload_3=t._load_3_32,t.lload=t._load_64,t.lload_0=t._load_0_64,t.lload_1=t._load_1_64,t.lload_2=t._load_2_64,t.lload_3=t._load_3_64,t.dload=t._load_64,t.dload_0=t._load_0_64,t.dload_1=t._load_1_64,t.dload_2=t._load_2_64,t.dload_3=t._load_3_64,t.istore=t._store_32,t.istore_0=t._store_0_32,t.istore_1=t._store_1_32,t.istore_2=t._store_2_32,t.istore_3=t._store_3_32,t.fstore=t._store_32,t.fstore_0=t._store_0_32,t.fstore_1=t._store_1_32,t.fstore_2=t._store_2_32,t.fstore_3=t._store_3_32,t.astore=t._store_32,t.astore_0=t._store_0_32,t.astore_1=t._store_1_32,t.astore_2=t._store_2_32,t.astore_3=t._store_3_32,t.lstore=t._store_64,t.lstore_0=t._store_0_64,t.lstore_1=t._store_1_64,t.lstore_2=t._store_2_64,t.lstore_3=t._store_3_64,t.dstore=t._store_64,t.dstore_0=t._store_0_64,t.dstore_1=t._store_1_64,t.dstore_2=t._store_2_64,t.dstore_3=t._store_3_64,t.ireturn=t._return_32,t.freturn=t._return_32,t.areturn=t._return_32,t.lreturn=t._return_64,t.dreturn=t._return_64,t
}();e.Opcodes=d,e.LookupTable=new Array(255),function(){for(var t=0;255>t;t++)i.OpCode.hasOwnProperty(""+t)&&(e.LookupTable[t]=d[i.OpCode[t].toLowerCase()])}()});var __extends=this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n};define("src/threading",["require","exports","./java_object","./enums","./assert","./gLong","./opcodes","./logging","./util"],function(t,e,n,r,a,o,i,s,u){function l(t){switch(t.getType()){case 10:var e=t;return u.ext_classname(e.classInfo.name)+"."+e.methodSignature;case 11:var n=t;return u.ext_classname(n.classInfo.name)+"."+n.methodSignature;case 9:var r=t;return u.ext_classname(r.classInfo.name)+"."+r.fieldName+":"+u.ext_classname(r.nameAndTypeInfo.descriptor);case 12:var a=t;return a.name+":"+a.descriptor;case 7:var o=t;return u.ext_classname(o.name);default:return s.debug_var(t.value)}}var c=(s.debug,s.vtrace,1e4),p=c,h=1e3,f=1,d=function(){function t(t,e){this.pc=0,this.stack=[],this.returnToThreadLoop=!1,this.lockedMethodLock=!1,this.type=1,this.method=t,this.locals=e}return t.prototype.run=function(t){var e=this,n=this.method,r=this.method.getCodeAttribute().getCode(),a=i.LookupTable;if(0===this.pc,!n.accessFlags.isSynchronized()||this.lockedMethodLock||(this.lockedMethodLock=n.method_lock(t,this).enter(t,function(){e.lockedMethodLock=!0}),this.lockedMethodLock))for(this.returnToThreadLoop=!1;!this.returnToThreadLoop;){var o=r.readUInt8(this.pc);a[o](t,this,r,this.pc),!this.returnToThreadLoop}},t.prototype.scheduleResume=function(t,e,n){var r=this.method.getCodeAttribute().getCode().readUInt8(this.pc);switch(r){case 185:case 242:this.pc+=5;break;case 183:case 184:case 182:case 240:case 223:case 241:case 243:case 244:case 246:case 245:case 247:case 186:case 248:this.pc+=3}void 0!==e&&this.stack.push(e),void 0!==n&&this.stack.push(n)},t.prototype.scheduleException=function(t,e){var n,r,a=this.method.getCodeAttribute(),o=this.pc,i=this.method,s=a.exceptionHandlers,u=e.cls;for(r=0;r<s.length;r++){var l=s[r];if(l.startPC<=o&&o<l.endPC){if("<any>"===l.catchType){n=l;break}var c=i.cls.getLoader().getResolvedClass(l.catchType);if(null==c){var p=[];return s.forEach(function(t){"<any>"!==t.catchType&&p.push(t.catchType)}),t.setStatus(7),i.cls.getLoader().resolveClasses(t,p,function(n){null!==n&&t.throwException(e)}),!0}if(u.isCastable(c)){n=l;break}}}return null!=n?(this.stack=[e],this.pc=n.handlerPC,!0):(i.accessFlags.isSynchronized()&&i.method_lock(t,this).exit(t),!1)},t.prototype.getLoader=function(){return this.method.cls.getLoader()},t.prototype.getStackTraceFrame=function(){return{method:this.method,pc:this.pc,stack:this.stack.slice(0),locals:this.locals.slice(0)}},t}();e.BytecodeStackFrame=d;var g=function(){function t(t,e){this.type=2,this.method=t,this.args=e,this.nativeMethod=t.getNativeFunction()}return t.prototype.run=function(t){var e=this.nativeMethod.apply(null,this.method.convertArgs(t,this.args));if(1===t.getStatus()&&t.currentMethod()===this.method){var n=this.method.return_type;switch(n){case"J":case"D":t.asyncReturn(e,null);break;case"Z":t.asyncReturn(e?1:0);break;default:t.asyncReturn(e)}}},t.prototype.scheduleResume=function(){},t.prototype.scheduleException=function(){return!1},t.prototype.getStackTraceFrame=function(){return{method:this.method,pc:-1,stack:[],locals:[]}},t}(),v=function(){function t(t){this.isException=!1,this.type=0,this.cb=t}return t.prototype.run=function(t){t.framePop(),t.setStatus(7),this.isException?this.cb(this.val):this.cb(null,this.val)},t.prototype.scheduleResume=function(t,e){this.isException=!1,this.val=e},t.prototype.scheduleException=function(t,e){return this.isException=!0,this.val=e,!0},t.prototype.getStackTraceFrame=function(){return null},t}(),_=function(){function t(t,e,n){this.threads=[],this.runningThreadIndex=-1,this.parkCounts={},this.jvm=t,this.bsCl=e,this.emptyCallback=n}return t.prototype.getThreads=function(){return this.threads.slice(0)},t.prototype.addThread=function(t){-1===this.threads.indexOf(t)&&this.threads.push(t)},t.prototype.newThread=function(t){var e=new m(this.bsCl,this,t);return this.addThread(e),e},t.prototype.resurrectThread=function(t){this.addThread(t)},t.prototype.getJVM=function(){return this.jvm},t.prototype.scheduleNextThread=function(){var t=this;setImmediate(function(){var e,n,r,a=t.threads;if(null==t.runningThread)for(e=0;e<a.length;e++)if(n=(t.runningThreadIndex+1+e)%a.length,r=a[n],2===r.getStatus()){t.runningThread=r,t.runningThreadIndex=n,r.setStatus(1);break}})},t.prototype.threadRunnable=function(){null==this.runningThread&&this.scheduleNextThread()},t.prototype.anySchedulableThreads=function(t){var e,n,r;for(e=0;e<this.threads.length;e++)if(n=this.threads[e],0==n.get_field(t,"Ljava/lang/Thread;daemon")&&(r=n.getStatus(),0!=r&&9!=r))return!0;return!1},t.prototype.threadTerminated=function(t){var e=this.threads.indexOf(t);if(this.threads.splice(e,1),this.runningThread===t)if(this.runningThread=null,this.runningThreadIndex=this.runningThreadIndex-1,this.anySchedulableThreads(t))this.scheduleNextThread();else if(this.jvm.isShutdown())this.emptyCallback();else{var n=this.bsCl.getInitializedClass(t,"Ljava/lang/System;"),r=n.methodLookup(t,"exit(I)V");t.runMethod(r,[0])}else this.runningThreadIndex=this.threads.indexOf(this.runningThread)},t.prototype.threadSuspended=function(t){t===this.runningThread&&(this.runningThread=null,this.scheduleNextThread())},t.prototype.park=function(t){this.parkCounts.hasOwnProperty(""+t.ref)||(this.parkCounts[t.ref]=0),++this.parkCounts[t.ref]>0&&t.setStatus(8)},t.prototype.unpark=function(t){this.parkCounts.hasOwnProperty(""+t.ref)||(this.parkCounts[t.ref]=0),--this.parkCounts[t.ref]<=0&&t.setStatus(2)},t.prototype.completelyUnpark=function(t){this.parkCounts[t.ref]=0,t.setStatus(2)},t.prototype.isParked=function(t){return this.parkCounts[t.ref]>0},t}();e.ThreadPool=_;var m=function(t){function e(e,n,r,a){t.call(this,r,a),this.status=0,this.stack=[],this.interrupted=!1,this.monitor=null,this.bsCl=e,this.tpool=n}return __extends(e,t),e.prototype.isInterrupted=function(){return this.interrupted},e.prototype.currentMethod=function(){for(var t,e=this.stack,n=e.length;--n>=0;)if(t=e[n].getStackTraceFrame().method,null!==t)return t;return null},e.prototype.setInterrupted=function(t){this.interrupted=t},e.prototype.getBsCl=function(){return this.bsCl},e.prototype.getThreadPool=function(){return this.tpool},e.prototype.getStackTrace=function(){var t,e,n=[];for(t=0;t<this.stack.length;t++)e=this.stack[t].getStackTraceFrame(),null!=e&&n.push(e);return n},e.prototype.getPrintableStackTrace=function(){var t="";return this.getStackTrace().reverse().forEach(function(e){if(t+="	at "+u.ext_classname(e.method.cls.getInternalName())+"::"+e.method.name+"(",e.pc>=0){var n=e.method.getCodeAttribute(),r=n.getAttribute("LineNumberTable"),a=e.method.cls.getAttribute("SourceFile");if(t+=null!=a?a.filename:"unknown",null!=r){var o=r.getLineNumber(e.pc);t+=":"+o,t+=" Bytecode offset: "+e.pc}}else t+="native";t+=")\n"}),t},e.prototype.run=function(){var t,e,n,r=this,a=this.stack,o=(new Date).getTime();for(p=c;1===this.status&&a.length>0;)a[a.length-1].run(this),0===--p&&(t=(new Date).getTime(),e=t-o,n=Math.floor(c/e*h),c=(n+f*c)/(f+1),f++,this.setStatus(7),setImmediate(function(){r.setStatus(2)}));0===a.length&&this.setStatus(9)},e.prototype.sanityCheck=function(){switch(this.status){case 0:return!0;case 1:return this.stack.length>0;case 2:return this.stack.length>0;case 6:return null!=this.monitor&&this.monitor.isTimedWaiting(this);case 5:return null!=this.monitor&&this.monitor.isWaiting(this);case 3:return null!=this.monitor&&this.monitor.isBlocked(this);case 7:return!0;case 9:return!0;case 8:return this.getThreadPool().isParked(this);default:return!1}},e.prototype.rawSetStatus=function(t){var e=0;switch(this.status=t,t){case 0:e|=1;break;case 1:case 2:e|=4;break;case 3:case 4:e|=1024;break;case 5:case 7:case 8:e|=16;break;case 6:e|=32;break;case 9:e|=2;break;default:e=4}this.set_field(this,"Ljava/lang/Thread;threadStatus",e)},e.prototype.setStatus=function(t,e){if(this.status!==t&&(1!==this.status||2!==t)){var n=this.status;switch(this.rawSetStatus(t),this.monitor=null,n){case 9:this.tpool.resurrectThread(this);break;case 8:this.asyncReturn()}switch(this.status){case 2:this.tpool.threadRunnable(this);break;case 1:this.run();break;case 9:this.exit();break;case 3:case 4:case 5:case 6:this.monitor=e;default:this.tpool.threadSuspended(this)}}},e.prototype.exit=function(){var t=this,e=this.getMonitor(),n=function(){e.notifyAll(t),e.exit(t),t.rawSetStatus(9),t.tpool.threadTerminated(t)};this.rawSetStatus(7),e.enter(this,n)&&n()},e.prototype.getMonitorBlock=function(){return this.monitor},e.prototype.getStatus=function(){return this.status},e.prototype.runMethod=function(t,e,n){n&&this.stack.push(new v(n)),this.stack.push(t.accessFlags.isNative()?new g(t,e):new d(t,e)),this.setStatus(2)},e.prototype.asyncReturn=function(t,e){var n=this.stack,r=n.pop();if(0!=r.type){var a=r;1===r.type&&"V"!==a.method.return_type,"V"!==a.method.return_type}var o=n.length-1;o>=0&&n[o].scheduleResume(this,t,e),this.setStatus(2)},e.prototype.framePop=function(){this.stack.pop()},e.prototype.throwException=function(t){var e=this.stack,n=e.length-1;if(n>=0)for(0===e[n].type&&(e.pop(),n--),this.setStatus(2);e.length>0&&!e[n].scheduleException(this,t);)e.pop(),n--;0===e.length&&this.handleUncaughtException(t)},e.prototype.throwNewException=function(t,e){var r=this,a=this.bsCl.getInitializedClass(this,t),o=function(){var t=new n.JavaObject(a),o=a.methodLookup(r,"<init>(Ljava/lang/String;)V");r.runMethod(o,[t,n.initString(r.bsCl,e)],function(e){r.throwException(e?e:t)})};null!=a?o():(this.setStatus(7),this.bsCl.initializeClass(this,t,function(t){null!=t&&(a=t,o())},!1))},e.prototype.handleUncaughtException=function(t){var e=this.bsCl.getResolvedClass("Ljava/lang/Thread;"),n=e.methodLookup(this,"dispatchUncaughtException(Ljava/lang/Throwable;)V");this.runMethod(n,[this,t])},e}(n.JavaObject);e.JVMThread=m,e.validTransitions={},e.validTransitions[0]={},e.validTransitions[0][2]="RunMethod invoked on new thread",e.validTransitions[0][7]="[JVM bootup only] Internal operation occurs on new thread",e.validTransitions[7]={},e.validTransitions[7][2]="Async operation completes",e.validTransitions[7][9]="RunMethod completes and callstack is empty",e.validTransitions[3]={},e.validTransitions[3][2]="Acquires monitor, or is interrupted",e.validTransitions[8]={},e.validTransitions[8][2]="Balancing unpark, or is interrupted",e.validTransitions[2]={},e.validTransitions[2][1]="Scheduled to run",e.validTransitions[2][7]="Scheduled to run thread performs an asynchronous JavaScript operation",e.validTransitions[1]={},e.validTransitions[1][2]="[Ignored transition; stays RUNNING]",e.validTransitions[1][7]="Thread performs an asynchronous JavaScript operation",e.validTransitions[1][9]="Callstack is empty",e.validTransitions[1][3]="Thread waits to acquire monitor",e.validTransitions[1][5]="Thread waits on monitor (Object.wait)",e.validTransitions[1][6]="Thread waits on monitor with timeout (Object.wait)",e.validTransitions[1][8]="Thread parks itself",e.validTransitions[9]={},e.validTransitions[9][0]="Thread is resurrected for re-use",e.validTransitions[9][2]="Thread is resurrected for re-use",e.validTransitions[9][7]="[JVM Bootup] Thread is resurrected for internal operation",e.validTransitions[6]={},e.validTransitions[6][2]="Timer expires, or thread is interrupted, and thread immediately acquires lock",e.validTransitions[6][4]="Thread is interrupted or notified, or timer expires, and lock already owned",e.validTransitions[4]={},e.validTransitions[4][2]="Thread acquires monitor",e.validTransitions[5]={},e.validTransitions[5][2]="Thread is interrupted, and immediately acquires lock",e.validTransitions[5][4]="Thread is notified or interrupted, and does not immediately acquire lock",e.OpcodeLayoutPrinters={},e.OpcodeLayoutPrinters[0]=function(t,e,n){return r.OpCode[e.readUInt8(n)].toLowerCase()},e.OpcodeLayoutPrinters[2]=function(t,e,n){return r.OpCode[e.readUInt8(n)].toLowerCase()+" "+l(t.method.cls.constantPool.get(e.readUInt16BE(n+1)))},e.OpcodeLayoutPrinters[1]=function(t,e,n){return r.OpCode[e.readUInt8(n)].toLowerCase()+" "+l(t.method.cls.constantPool.get(e.readUInt8(n+1)))},e.OpcodeLayoutPrinters[3]=function(t,e,n){return r.OpCode[e.readUInt8(n)].toLowerCase()+" "+l(t.method.cls.constantPool.get(e.readUInt16BE(n+1)))+" "+e.readUInt8(n+3)},e.OpcodeLayoutPrinters[4]=function(t,e,n){return r.OpCode[e.readUInt8(n)].toLowerCase()+" "+e.readUInt8(n+1)},e.OpcodeLayoutPrinters[5]=function(t,e,n){return r.OpCode[e.readUInt8(n)].toLowerCase()+" "+e.readUInt8(n+1)+" "+e.readInt8(n+2)},e.OpcodeLayoutPrinters[6]=function(t,e,n){return r.OpCode[e.readUInt8(n)].toLowerCase()+" "+e.readInt8(n+1)},e.OpcodeLayoutPrinters[7]=function(t,e,n){return r.OpCode[e.readUInt8(n)].toLowerCase()+" "+e.readInt16BE(n+1)},e.OpcodeLayoutPrinters[8]=function(t,e,n){return r.OpCode[e.readUInt8(n)].toLowerCase()+" "+e.readInt32BE(n+1)},e.OpcodeLayoutPrinters[9]=function(t,e,n){return r.OpCode[e.readUInt8(n)].toLowerCase()+" "+i.ArrayTypes[e.readUInt8(n+1)]},e.OpcodeLayoutPrinters[10]=function(t,e,n){return r.OpCode[e.readUInt8(n)].toLowerCase()}}),define("src/heap",["require","exports"],function(){var t=function(){function t(e){this.size=e,this._sizeMap={},this._buffer=new Buffer(e),this._remaining=e,this._offset=0,this._freeLists=new Array(t._numSizeClasses);for(var n=0;n<t._numSizeClasses;n++)this._freeLists[n]=[]}return t.prototype.malloc=function(e){if(4>=e&&(e=4),this._remaining<e)throw"out of memory";var n,r;return r=t.size_to_class(e),n=this._freeLists[r].pop(),void 0===n&&(n=this.refill(r)),n},t.prototype.free=function(e){var n=e&~(t._chunkSize-1),r=this._sizeMap[n];this._freeLists[r].push(e)},t.prototype.store_word=function(t,e){this._buffer.writeInt32LE(e,t)},t.prototype.get_byte=function(t){return this._buffer.readUInt8(t)},t.prototype.get_word=function(t){return this._buffer.readInt32LE(t)},t.prototype.get_signed_byte=function(t){return this._buffer.readInt8(t)},t.prototype.set_byte=function(t,e){this._buffer.writeUInt8(e,t)},t.prototype.set_signed_byte=function(t,e){this._buffer.writeInt8(e,t)},t.prototype.memcpy=function(t,e,n){var r,a=n%4,o=n-a;for(r=0;o>r;r+=4)this._buffer.writeUInt32LE(this._buffer.readUInt32LE(t+r),e+r);for(r=o;n>r;r++)this._buffer.writeUInt8(this._buffer.readUInt8(t+r),e+r)},t.prototype.refill=function(e){var n=this.cl_to_size(e),r=Math.floor(t._chunkSize/n);1>r&&(r=1);var a=this._offset;this._sizeMap[a]=e;for(var o=0;r>o;o++)this._remaining-=n,a=this._offset,this._freeLists[e].push(a),this._offset+=n;return a},t.ilog2=function(t){for(var e=0,n=1;t>n;)n<<=1,e++;return e},t.size_to_class=function(e){return t.ilog2(e)},t.prototype.cl_to_size=function(t){return 1<<t},t._numSizeClasses=64,t._chunkSize=4096,t}();return t}),define("src/jvm",["require","exports","./util","./SafeMap","./ClassLoader","fs","path","./java_object","./threading","./enums","./heap","./assert"],function(require,exports,util,SafeMap,ClassLoader,fs,path,java_object,threading,enums,Heap,assert){var coreClasses=["Ljava/lang/String;","Ljava/lang/Class;","Ljava/lang/ClassLoader;","Ljava/lang/reflect/Constructor;","Ljava/lang/reflect/Field;","Ljava/lang/reflect/Method;","Ljava/lang/Error;","Ljava/lang/StackTraceElement;","Ljava/lang/System;","Ljava/lang/Thread;","Ljava/lang/ThreadGroup;","Ljava/lang/Throwable;","Ljava/nio/ByteOrder;","Lsun/misc/VM;","Lsun/reflect/ConstantPool;","Ljava/lang/Byte;","Ljava/lang/Character;","Ljava/lang/Double;","Ljava/lang/Float;","Ljava/lang/Integer;","Ljava/lang/Long;","Ljava/lang/Short;","Ljava/lang/Void;","Ljava/io/FileDescriptor;","Ljava/lang/Boolean;","[Lsun/management/MemoryManagerImpl;","[Lsun/management/MemoryPoolImpl;"],JVM=function(){function JVM(t,e){var n=this;this.internedStrings=new SafeMap,this.natives={},this.heap=new Heap(20971520),this.startupTime=new Date,this.terminationCb=null,this.systemClassLoader=null;var r,a=t.bootstrapClasspath.map(function(t){return path.resolve(t)}),o=t.classpath.map(function(t){return path.resolve(t)}),i=path.resolve(t.javaHomePath),s=[];this.nativeClasspath=t.nativeClasspath,this.assertionsEnabled=t.assertionsEnabled,this._initSystemProperties(a,o,i),s.push(function(t){n.initializeNatives(t)}),s.push(function(e){n.bsCl=new ClassLoader.BootstrapClassLoader(a,t.extractionPath,e)}),s.push(function(t){n.threadPool=new threading.ThreadPool(n,n.bsCl,function(){n.emptyThreadPool()}),n.bsCl.resolveClass(null,"Ljava/lang/Thread;",function(e){null==e?t("Failed to resolve java/lang/Thread."):(r=n.firstThread=n.threadPool.newThread(e),t())})}),s.push(function(t){util.asyncForEach(coreClasses,function(t,e){n.bsCl.initializeClass(r,t,function(a){var o;if(null==a)e("Failed to initialize "+t);else if("Ljava/lang/ThreadGroup;"===t){var i=n.bsCl.getInitializedClass(r,"Ljava/lang/ThreadGroup;"),s=new java_object.JavaObject(i);o=i.methodLookup(r,"<init>()V"),r.runMethod(o,[s],function(){r.set_field(r,"Ljava/lang/Thread;name",java_object.initCarr(n.bsCl,"main")),r.set_field(r,"Ljava/lang/Thread;priority",1),r.set_field(r,"Ljava/lang/Thread;group",s),r.set_field(r,"Ljava/lang/Thread;threadLocals",null),r.set_field(r,"Ljava/lang/Thread;blockerLock",new java_object.JavaObject(n.bsCl.getInitializedClass(r,"Ljava/lang/Object;"))),e()})}else if("Ljava/lang/Thread;"===t){var u=n.bsCl.getInitializedClass(r,"Ljava/lang/Thread;");o=u.methodLookup(r,"<init>()V"),r.runMethod(o,[r],function(){e()})}else e()})},t)}),s.push(function(t){var e=n.bsCl.getInitializedClass(r,"Ljava/lang/System;").getMethod("initializeSystemClass()V");r.runMethod(e,[],t)}),s.push(function(t){r.runMethod(n.bsCl.getInitializedClass(r,"Ljava/lang/ClassLoader;").getMethod("getSystemClassLoader()Ljava/lang/ClassLoader;"),[],function(e,a){e?t(e):(n.systemClassLoader=a.$loader,r.set_field(r,"Ljava/lang/Thread;contextClassLoader",a),t())})}),util.asyncSeries(s,function(t){t?e(t):setImmediate(function(){e(null,n)})})}return JVM.prototype.getSystemClassLoader=function(){return this.systemClassLoader},JVM.prototype.runClass=function(t,e,n){var r=this,a=this.firstThread;t="L"+t.replace(/\./g,"/")+";",this.systemClassLoader.initializeClass(a,t,function(t){if(null!=t){var o=r.bsCl.getInitializedClass(a,"[Ljava/lang/String;"),i=new java_object.JavaArray(o,e.map(function(t){return java_object.initString(r.bsCl,t)})),s=t.methodLookup(a,"main([Ljava/lang/String;)V");r.terminationCb=n,a.runMethod(s,[i])}else r.terminationCb=n})},JVM.prototype.runJar=function(t,e){this.runClass("doppio.JarLauncher",t,e)},JVM.prototype.emptyThreadPool=function(){null!=this.terminationCb&&this.terminationCb(!0)},JVM.prototype.getSystemProperty=function(t){return this.systemProperties[t]},JVM.prototype.getSystemPropertyNames=function(){return Object.keys(this.systemProperties)},JVM.prototype.setSystemProperty=function(t,e){this.systemProperties[t]=e},JVM.prototype.getHeap=function(){return this.heap},JVM.prototype.internString=function(t,e){return this.internedStrings.has(t)?this.internedStrings.get(t):(e||(e=java_object.initString(this.bsCl,t)),this.internedStrings.set(t,e),e)},JVM.prototype.evalNativeModule=function(mod){var rv,savedRequire="undefined"!=typeof require?require:function(t){return"."===t.charAt(0)&&(t="./src"+t.slice(1)),requirejs(t)};return function(){function registerNatives(t){rv=t}function require(t){return savedRequire(t.replace(/..\/([a-zA-Z_0-9]*)/g,"./$1"))}function define(t,e){var n=[];t.forEach(function(t){switch(t){case"require":n.push(require);break;case"exports":n.push({});break;default:n.push(require(t))}}),e.apply(null,n)}eval(mod)}(),rv},JVM.prototype.registerNatives=function(t){var e,n;for(e in t)if(t.hasOwnProperty(e)){this.natives.hasOwnProperty(e)||(this.natives[e]={});var r=t[e];for(n in r)r.hasOwnProperty(n)&&(this.natives[e][n]=r[n])}},JVM.prototype.registerNative=function(t,e,n){this.registerNatives({clsName:{methSig:n}})},JVM.prototype.getNative=function(t,e){if(t=util.descriptor2typestr(t),this.natives.hasOwnProperty(t)){var n=this.natives[t];if(n.hasOwnProperty(e))return n[e]}return null},JVM.prototype.getNatives=function(){return this.natives},JVM.prototype.initializeNatives=function(t){var e=this,n=function(){if(r===e.nativeClasspath.length){var o=a.length;a.forEach(function(n){fs.readFile(n,function(n,r){n||e.registerNatives(e.evalNativeModule(r.toString())),0===--o&&t()})})}else{var i=e.nativeClasspath[r++];fs.readdir(i,function(e,r){if(e)return t();var o,s;for(o=0;o<r.length;o++)s=r[o],".js"===s.substring(s.length-3,s.length)&&a.push(path.join(i,s));n()})}},r=0,a=[];n()},JVM.prototype._initSystemProperties=function(t,e,n){this.systemProperties={"java.class.path":e.join(":"),"java.home":n,"sun.boot.class.path":t.join(":"),"file.encoding":"UTF-8","java.vendor":"Doppio","java.version":"1.8","java.vendor.url":"https://github.com/plasma-umass/doppio","java.class.version":"52.0","java.specification.version":"1.8","line.separator":"\n","file.separator":path.sep,"path.separator":":","user.dir":path.resolve("."),"user.home":".","user.name":"DoppioUser","os.name":"doppio","os.arch":"js","os.version":"0","java.vm.name":"Doppio 64-bit VM","java.vm.vendor":"Doppio Inc.","java.awt.headless":util.are_in_browser().toString(),"java.awt.graphicsenv":"classes.awt.CanvasGraphicsEnvironment",useJavaUtilZip:"true","jline.terminal":"jline.UnsupportedTerminal"}},JVM.prototype.abort=function(){var t,e=this.threadPool.getThreads();for(this.shutdown=!0,t=0;t<e.length;t++)e[t].setStatus(9)},JVM.prototype.getBootstrapClassLoader=function(){return this.bsCl},JVM.prototype.getStartupTime=function(){return this.startupTime},JVM.prototype.areAssertionsEnabled=function(){return this.assertionsEnabled},JVM.prototype.isShutdown=function(){return this.shutdown},JVM}();return JVM}),define("src/java_cli",["require","exports","./option_parser","./jvm","./util","./logging"],function(t,e,n,r,a,o){function i(){n.describe({standard:{classpath:{alias:"cp",description:'JVM classpath, "path1:...:pathN"',has_value:!0},D:{description:'set a system property, "name[=value]"'},jar:{description:"add JAR to classpath and run its Main-Class (if found)",has_value:!0},help:{alias:"h",description:"print this help message"},X:{description:"print help on non-standard options"},enableassertions:{alias:"ea",description:"enable debug assertions"}},non_standard:{log:{description:"log level, [0-10]|vtrace|trace|debug|error",has_value:!0,"default":o.ERROR},"count-logs":{description:"count log messages instead of printing them"},"skip-logs":{description:"number of log messages to skip before printing",has_value:!0},"list-class-cache":{description:"list all of the loaded classes after execution"},"show-nyi-natives":{description:"list any NYI native functions in loaded classes"},"dump-state":{description:'write a "core dump" on unusual termination'},benchmark:{description:"time execution, both hot and cold"},"native-classpath":{description:"directories where package-based native methods can be found",has_value:!0},"bootclasspath/a":{description:"'boot' classpath items; doppio simply appends these to the classpath",has_value:!0}}})}function s(t,e,a,s){void 0===s&&(s=function(){}),i();var c,p=n.parse(t);if(e.launcherName||(e.launcherName="java"),e.classpath||(e.classpath=[]),p.standard.help)return l(e.launcherName,n.show_help(),a,!0);if(p.standard.X)return l(e.launcherName,n.show_non_standard_help(),a,!0);if(/[0-9]+/.test(p.non_standard.log))o.log_level=p.non_standard.log+0;else{var h=o[p.non_standard.log.toUpperCase()];if(null==h)return process.stderr.write("Unrecognized log level."),l(e.launcherName,n.show_help(),a,!1);o.log_level=h}p.non_standard["list-class-cache"]?a=function(t){return function(e){c.getBootstrapClassLoader().getLoadedClassFiles(function(n){process.stdout.write(n.join("\n")+"\n"),t(e)})}}(a):p.non_standard["count-logs"]?a=function(t){var e=0,n=console.log,r=function(){++e};return console.log=r,function(r){console.log=n,process.stdout.write("console.log was called a total of "+e+" times."),t(r)}}(a):null!=p.non_standard["skip-logs"]?a=function(t){var e=parseInt(p.non_standard["skip-logs"],10),n=console.log;return console.log=function(){0===--e&&(console.log=n)},function(e){console.log=n,t(e)}}(a):p.non_standard.benchmark&&(a=function(t){var n=(new Date).getTime();return process.stdout.write("Starting cold-cache run...\n"),function(){var r=(new Date).getTime();process.stdout.write("Starting hot-cache run...\n"),u(p,e,c,function(e){var a=(new Date).getTime();process.stdout.write("Timing:\n	"+(r-n)+" ms cold\n	"+(a-r)+" ms hot\n"),t(e)},function(){})}}(a)),p.standard.enableassertions&&(e.assertionsEnabled=!0),p.non_standard["bootclasspath/a"]&&(e.bootstrapClasspath=e.bootstrapClasspath.concat(p.non_standard["bootclasspath/a"].split(":"))),null!=p.standard.jar?e.classpath=e.classpath.concat([p.standard.jar]):null!=p.standard.classpath?e.classpath=e.classpath.concat(p.standard.classpath.split(":")):e.classpath.push(process.cwd()),c=new r(e,function(t){if(t)process.stderr.write("Error constructing JVM:\n"),process.stderr.write(t.toString()+"\n"),a(!1);else{if(null!=p.properties){var n;for(n in p.properties)c.setSystemProperty(n,p.properties[n])}u(p,e,c,a,s)}})}function u(t,e,r,o,i){var s=t._,u=t.className,c=null!=t.standard.jar;if(null!=u)".class"===u.slice(-6)&&(u=u.slice(0,-6)),-1!==u.indexOf(".")&&(u=a.descriptor2typestr(a.int_classname(u))),r.runClass(u,s,o);else{if(!c)return l(e.launcherName,n.show_help(),o,!0);r.runJar(s,o)}i(r)}function l(t,e,n,r){return process.stdout.write("Usage: "+t+" [flags]  /path/to/classfile [args for main()]\n"+e+"\n"),n(r)}e.java=s}),define("src/difflib",["require","exports"],function(t,e){function n(t,e,n){return new o(t,e).text_diff(n)}function r(t,e){for(var n=Math.max(t.length,e.length),r=0;n>r;r++){if(t[r]<e[r])return-1;if(t[r]>e[r])return 1}return t.length==e.length?0:t.length<e.length?-1:1}function a(t,e,n){return t.hasOwnProperty(e)?t[e]:n}e.text_diff=n;var o=function(){function t(t,e){this.a=t,this.b=e,this.b2j={};for(var n=0;n<e.length;n++){var r=e[n];this.b2j.hasOwnProperty(r)?this.b2j[r].push(n):this.b2j[r]=[n]}}return t.prototype.find_longest_match=function(t,e,n,r){for(var o=this.a,i=this.b,s=this.b2j,u=t,l=n,c=0,p={},h=t;e>h;h++){var f={},d=a(s,o[h],[]);for(var g in d)if(d.hasOwnProperty(g)){var v=d[g];if(n>v)continue;if(v>=r)break;var _=a(p,v-1,0)+1;f[v]=_,_>c&&(u=h-_+1,l=v-_+1,c=_)}p=f}for(;u>t&&l>n&&o[u-1]==i[l-1];)u--,l--,c++;for(;e>u+c&&r>l+c&&o[u+c]==i[l+c];)c++;return[u,l,c]},t.prototype.get_matching_blocks=function(){if(null!=this.matching_blocks)return this.matching_blocks;for(var t=this.a.length,e=this.b.length,n=[[0,t,0,e]],a=[];n.length;){var o=n.pop(),i=o[0],s=o[1],u=o[2],l=o[3],c=this.find_longest_match(i,s,u,l),p=c[0],h=c[1],f=c[2];f&&(a.push(c),p>i&&h>u&&n.push([i,p,u,h]),s>p+f&&l>h+f&&n.push([p+f,s,h+f,l]))}a.sort(r);for(var d=0,g=0,v=0,_=[],m=0;m<a.length;m++){var y=a[m],T=y[0],I=y[1],L=y[2];d+v==T&&g+v==I?v+=L:(v&&_.push([d,g,v]),d=T,g=I,v=L)}return v&&_.push([d,g,v]),_.push([t,e,0]),this.matching_blocks=_,this.matching_blocks},t.prototype.get_opcodes=function(){if(null!=this.opcodes)return this.opcodes;var t=0,e=0,n=[];this.opcodes=n;for(var r=this.get_matching_blocks(),a=0;a<r.length;a++){var o=r[a],i=o[0],s=o[1],u=o[2],l="";i>t&&s>e?l="replace":i>t?l="delete":s>e&&(l="insert"),l&&n.push([l,t,i,e,s]),t=i+u,e=s+u,u&&n.push(["equal",i,t,s,e])}return n},t.prototype.text_diff=function(t){for(var e=this.get_opcodes(),n=[],r=[],a=[],o=0,i=-1,s=0;s<e.length;s++){var u=e[s];if("equal"!==u[0]){var l=u[1],c=u[3],p=u[2]-1,h=u[4]-1,f=Math.min(l,c),d=Math.max(p,h),g="";switch(u[0]){case"delete":g=" < ";break;case"insert":g=" > ";break;case"replace":g=" | "}for(var v=Math.max(i+1,f-t);f>v;v++){var _=v+": ";v<this.a.length?(r.push(_+this.a[v]),o=Math.max(o,this.a[v].length+_.length)):r.push(_),a.push(v<this.b.length?this.b[v]:""),n.push("   ")}for(var v=f;d>=v;v++){var _=v+": ";v>=l&&p>=v?(r.push(_+this.a[v]),o=Math.max(o,this.a[v].length+_.length)):r.push(_),a.push(v>=c&&h>=v?this.b[v]:""),n.push(g)}i=d}}for(var v=0;v<n.length;v++){var m=r[v],y=a[v];m.length<o&&(m+=new Array(o-m.length+1).join(" ")),n[v]=m+n[v]+y}return n},t}();e.SequenceMatcher=o}),define("src/testing",["require","exports","./jvm","./util","./difflib","path","fs"],function(t,e,n,r,a,o,i){function s(){h=process.stdout.write,f=process.stderr.write,d="",process.stdout.write=g,process.stderr.write=g}function u(){return process.stdout.write=h,process.stderr.write=f,d}function l(t,e){var n=o.resolve(t,o.join("classes","test"));i.readdir(n,function(t,n){e(t?[]:n.filter(function(t){return".java"===o.extname(t)}).map(function(t){return o.join("classes","test",o.basename(t,".java"))}))})}function c(t,e){var n,a=t.testClasses;null==a||0===a.length?l(t.doppioDir,function(n){t.testClasses=n,c(t,e)}):(n=a.map(function(e){return new v(t,e)}),r.asyncForEach(n,function(e,n){"function"==typeof t.preTestHook&&t.preTestHook(e.cls),e.run(function(r){"function"==typeof t.postTestHook&&t.postTestHook(e.cls,r),r||t.keepGoing?n():n("Test failed.")})},function(t){e(null==t)}))}function p(t,e){var n=t.split(/\n/),r=e.split(/\n/),o=a.text_diff(n,r,2);return o.length>0?"Doppio | Java\n"+o.join("\n"):null}var h,f,d="",g=function(t){return"string"!=typeof t&&(t=t.toString()),d+=t,!0},v=function(){function t(t,e){this.opts=t,-1!==e.indexOf(".")&&(e=r.descriptor2typestr(r.int_classname(e))),this.cls=e,this.outFile=o.resolve(t.doppioDir,e)+".runout"}return t.prototype.constructJVM=function(t){new n({bootstrapClasspath:this.opts.bootstrapClasspath,classpath:[this.opts.doppioDir],javaHomePath:this.opts.javaHomePath,extractionPath:this.opts.extractionPath,nativeClasspath:this.opts.nativeClasspath,assertionsEnabled:!1},t)},t.prototype.print=function(t){this.opts.quiet||process.stdout.write(t)},t.prototype.run=function(t){var e=this;this.print("["+this.cls+"]: Running... "),this.constructJVM(function(n,r){n?(e.print("fail.\n	Could not construct JVM:\n"+n),t(!1)):(s(),r.runClass(e.cls,[],function(){var n=u();i.readFile(e.outFile,{encoding:"utf8"},function(r,a){var o;r?(e.print("fail.\n	Could not read runout file:\n"+r),t(!1)):(o=p(n,a),null==o?(e.print("pass.\n"),t(!0)):(e.print("fail.\n	Output does not match native JVM.\n"),e.opts.hideDiffs||process.stdout.write(e.cls+": "+o+"\n"),t(!1)))})}))})},t}();e.findTestClasses=l,e.runTests=c}),define("src/doppio",["require","exports","./java_cli","./testing","./jvm"],function(t,e,n,r,a){e.testing=r,e.javaCli=n,e.JVM=a}),window.doppio=require("./src/doppio")}();