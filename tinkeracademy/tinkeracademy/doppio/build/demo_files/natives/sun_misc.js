define(["require","exports","../java_object","../ClassData","../gLong","../util","../enums"],function(a,b,c,d,e,f){function g(a,b,c,d,e,f){var g=c.getFieldFromSlot(a,d);return g===e?(c.setFieldFromSlot(a,d,f),!0):!1}var h=function(){function a(){}return a["maxObjectInspectionAge()J"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),null},a}(),i=function(){function a(){}return a["toStderr(Ljava/lang/String;)V"]=function(a){a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented.")},a["toStdout(Ljava/lang/String;)V"]=function(a){a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented.")},a}(),j=function(){function a(){}return a["handle0(IJ)V"]=function(a){a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented.")},a}(),k=function(){function a(){}return a["attach(Ljava/lang/String;II)Ljava/nio/ByteBuffer;"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),null},a["detach(Ljava/nio/ByteBuffer;)V"]=function(a){a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented.")},a["createLong(Ljava/lang/String;IIJ)Ljava/nio/ByteBuffer;"]=function(a,b,d,f,g,h){a.setStatus(7),a.getBsCl().initializeClass(a,"Ljava/nio/DirectByteBuffer;",function(b){if(null!==b){var d=new c.JavaObject(b),f=a.getThreadPool().getJVM().getHeap(),g=f.malloc(8);a.runMethod(b.methodLookup(a,"<init>(JI)V"),[d,e.fromNumber(g),null,8],function(b){b?a.throwException(b):(f.store_word(g,h.getLowBits()),f.store_word(g+4,h.getHighBits()),a.asyncReturn(d))})}})},a["createByteArray(Ljava/lang/String;II[BI)Ljava/nio/ByteBuffer;"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),null},a["highResCounter()J"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),null},a["highResFrequency()J"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),null},a["registerNatives()V"]=function(a){a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented.")},a}(),l=function(){function a(){}return a["findSignal(Ljava/lang/String;)I"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),0},a["handle0(IJ)J"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),null},a["raise0(I)V"]=function(a){a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented.")},a}(),m=function(){function a(){}return a["getInt(Ljava/lang/Object;J)I"]=function(a,b,c,d){return c.getFieldFromSlot(a,d)},a["putInt(Ljava/lang/Object;JI)V"]=function(a,b,c,d,e){return c.setFieldFromSlot(a,d,e)},a["getObject(Ljava/lang/Object;J)Ljava/lang/Object;"]=function(a,b,c,d){return c.getFieldFromSlot(a,d)},a["putObject(Ljava/lang/Object;JLjava/lang/Object;)V"]=function(a,b,c,d,e){return c.setFieldFromSlot(a,d,e)},a["getBoolean(Ljava/lang/Object;J)Z"]=function(a,b,c,d){return c.getFieldFromSlot(a,d)},a["putBoolean(Ljava/lang/Object;JZ)V"]=function(a,b,c,d,e){return c.setFieldFromSlot(a,d,e)},a["getByte(Ljava/lang/Object;J)B"]=function(a,b,c,d){return c.getFieldFromSlot(a,d)},a["putByte(Ljava/lang/Object;JB)V"]=function(a){a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented.")},a["getShort(Ljava/lang/Object;J)S"]=function(a,b,c,d){return c.getFieldFromSlot(a,d)},a["putShort(Ljava/lang/Object;JS)V"]=function(a){a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented.")},a["getChar(Ljava/lang/Object;J)C"]=function(a,b,c,d){return c.getFieldFromSlot(a,d)},a["putChar(Ljava/lang/Object;JC)V"]=function(a,b,c,d,e){return c.setFieldFromSlot(a,d,e)},a["getLong(Ljava/lang/Object;J)J"]=function(a,b,c,d){return c.getFieldFromSlot(a,d)},a["putLong(Ljava/lang/Object;JJ)V"]=function(a,b,c,d,e){c.setFieldFromSlot(a,d,e)},a["getFloat(Ljava/lang/Object;J)F"]=function(a,b,c,d){return c.getFieldFromSlot(a,d)},a["putFloat(Ljava/lang/Object;JF)V"]=function(a,b,c,d,e){c.setFieldFromSlot(a,d,e)},a["getDouble(Ljava/lang/Object;J)D"]=function(a,b,c,d){return c.getFieldFromSlot(a,d)},a["putDouble(Ljava/lang/Object;JD)V"]=function(a,b,c,d,e){c.setFieldFromSlot(a,d,e)},a["getByte(J)B"]=function(a,b,c){var d=a.getThreadPool().getJVM().getHeap();return d.get_signed_byte(c.toNumber())},a["putByte(JB)V"]=function(a){a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented.")},a["getShort(J)S"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),0},a["putShort(JS)V"]=function(a){a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented.")},a["getChar(J)C"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),0},a["putChar(JC)V"]=function(a){a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented.")},a["getInt(J)I"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),0},a["putInt(JI)V"]=function(a){a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented.")},a["getLong(J)J"]=function(a,b,c){var d=a.getThreadPool().getJVM().getHeap(),f=c.toNumber();return new e(d.get_word(f),d.get_word(f+4))},a["putLong(JJ)V"]=function(a,b,c,d){var e=a.getThreadPool().getJVM().getHeap(),f=c.toNumber();e.store_word(f,d.getLowBits()),e.store_word(f+4,d.getHighBits())},a["getFloat(J)F"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),0},a["putFloat(JF)V"]=function(a){a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented.")},a["getDouble(J)D"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),0},a["putDouble(JD)V"]=function(a){a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented.")},a["getAddress(J)J"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),null},a["putAddress(JJ)V"]=function(a){a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented.")},a["allocateMemory(J)J"]=function(a,b,c){var d=a.getThreadPool().getJVM().getHeap();return e.fromNumber(d.malloc(c.toNumber()))},a["reallocateMemory(JJ)J"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),null},a["setMemory(Ljava/lang/Object;JJB)V"]=function(a,b,c,d,e,f){if(null===c){var g,h=d.toNumber(),i=e.toNumber(),j=a.getThreadPool().getJVM().getHeap();for(g=0;i>g;g++)j.set_signed_byte(h+g,f)}else a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented.")},a["copyMemory(Ljava/lang/Object;JLjava/lang/Object;JJ)V"]=function(a,b,c,d,e,g,h){var i=a.getThreadPool().getJVM().getHeap(),j=d.toNumber(),k=g.toNumber(),l=h.toNumber();if(null===c&&null===e)i.memcpy(j,k,l);else if(null===c&&null!==e)if(f.is_array_type(e.cls.getInternalName())&&f.is_primitive_type(e.cls.getComponentClass().getInternalName())){var m,n=e;switch(n.cls.getComponentClass().getInternalName()){case"B":for(m=0;l>m;m++)n.array[k+m]=i.get_byte(j+m);break;default:a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented.")}}else a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented.");else a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented.")},a["freeMemory(J)V"]=function(a,b,c){var d=a.getThreadPool().getJVM().getHeap();d.free(c.toNumber())},a["staticFieldOffset(Ljava/lang/reflect/Field;)J"]=function(a,b,c){var d=c.get_field(a,"Ljava/lang/reflect/Field;slot");return e.fromNumber(d)},a["objectFieldOffset(Ljava/lang/reflect/Field;)J"]=function(a,b,c){var d=c.get_field(a,"Ljava/lang/reflect/Field;slot");return e.fromNumber(d)},a["staticFieldBase(Ljava/lang/reflect/Field;)Ljava/lang/Object;"]=function(a,b,d){var e=d.get_field(a,"Ljava/lang/reflect/Field;clazz");return new c.JavaObject(e.$cls)},a["ensureClassInitialized(Ljava/lang/Class;)V"]=function(a,b,c){a.setStatus(7),c.$cls.initialize(a,function(b){null!=b&&a.asyncReturn()},!0)},a["arrayBaseOffset(Ljava/lang/Class;)I"]=function(){return 0},a["arrayIndexScale(Ljava/lang/Class;)I"]=function(){return 1},a["addressSize()I"]=function(){return 4},a["pageSize()I"]=function(){return 1024},a["defineClass(Ljava/lang/String;[BIILjava/lang/ClassLoader;Ljava/security/ProtectionDomain;)Ljava/lang/Class;"]=function(a,b,d,e,g,h,i){var j=c.get_cl_from_jclo(a,i);if(null!=j){var k=j.defineClass(a,f.int_classname(d.jvm2js_str()),f.byteArray2Buffer(e.array,g,h));null!==k&&(a.setStatus(7),k.resolve(a,function(b){null!==b&&a.asyncReturn(b.getClassObject(a))}))}},a["allocateInstance(Ljava/lang/Class;)Ljava/lang/Object;"]=function(a,b,d){var e=d.$cls;return e.isInitialized(a)?new c.JavaObject(e):(a.setStatus(7),void e.initialize(a,function(){a.asyncReturn(new c.JavaObject(e))}))},a["monitorEnter(Ljava/lang/Object;)V"]=function(a){a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented.")},a["monitorExit(Ljava/lang/Object;)V"]=function(a){a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented.")},a["tryMonitorEnter(Ljava/lang/Object;)Z"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),0},a["throwException(Ljava/lang/Throwable;)V"]=function(a,b,c){a.throwException(c)},a["getObjectVolatile(Ljava/lang/Object;J)Ljava/lang/Object;"]=function(a,b,c,d){return c.getFieldFromSlot(a,d)},a["putObjectVolatile(Ljava/lang/Object;JLjava/lang/Object;)V"]=function(a,b,c,d,e){c.setFieldFromSlot(a,d,e)},a["getIntVolatile(Ljava/lang/Object;J)I"]=function(a,b,c,d){return c.getFieldFromSlot(a,d)},a["putIntVolatile(Ljava/lang/Object;JI)V"]=function(a,b,c,d,e){c.setFieldFromSlot(a,d,e)},a["getBooleanVolatile(Ljava/lang/Object;J)Z"]=function(a,b,c,d){return c.getFieldFromSlot(a,d)},a["putBooleanVolatile(Ljava/lang/Object;JZ)V"]=function(a,b,c,d,e){c.setFieldFromSlot(a,d,e)},a["getByteVolatile(Ljava/lang/Object;J)B"]=function(a,b,c,d){return c.getFieldFromSlot(a,d)},a["putByteVolatile(Ljava/lang/Object;JB)V"]=function(a,b,c,d,e){c.setFieldFromSlot(a,d,e)},a["getShortVolatile(Ljava/lang/Object;J)S"]=function(a,b,c,d){return c.getFieldFromSlot(a,d)},a["putShortVolatile(Ljava/lang/Object;JS)V"]=function(a,b,c,d,e){c.setFieldFromSlot(a,d,e)},a["getCharVolatile(Ljava/lang/Object;J)C"]=function(a,b,c,d){return c.getFieldFromSlot(a,d)},a["putCharVolatile(Ljava/lang/Object;JC)V"]=function(a,b,c,d,e){c.setFieldFromSlot(a,d,e)},a["getLongVolatile(Ljava/lang/Object;J)J"]=function(a,b,c,d){return c.getFieldFromSlot(a,d)},a["putLongVolatile(Ljava/lang/Object;JJ)V"]=function(a,b,c,d,e){c.setFieldFromSlot(a,d,e)},a["getFloatVolatile(Ljava/lang/Object;J)F"]=function(a,b,c,d){return c.getFieldFromSlot(a,d)},a["putFloatVolatile(Ljava/lang/Object;JF)V"]=function(a,b,c,d,e){c.setFieldFromSlot(a,d,e)},a["getDoubleVolatile(Ljava/lang/Object;J)D"]=function(a,b,c,d){return c.getFieldFromSlot(a,d)},a["putDoubleVolatile(Ljava/lang/Object;JD)V"]=function(a,b,c,d,e){c.setFieldFromSlot(a,d,e)},a["putOrderedObject(Ljava/lang/Object;JLjava/lang/Object;)V"]=function(a,b,c,d,e){c.setFieldFromSlot(a,d,e)},a["putOrderedInt(Ljava/lang/Object;JI)V"]=function(a,b,c,d,e){c.setFieldFromSlot(a,d,e)},a["putOrderedLong(Ljava/lang/Object;JJ)V"]=function(a,b,c,d,e){c.setFieldFromSlot(a,d,e)},a["unpark(Ljava/lang/Object;)V"]=function(a,b,c){c.getThreadPool().unpark(c)},a["park(ZJ)V"]=function(a,b,c,d){var e=1/0;c?(e=d.toNumber()-(new Date).getTime(),0>e&&(e=0)):d.toNumber()>0&&(e=d.toNumber()/1e6),a.getThreadPool().park(a),1/0!==e&&a.getThreadPool().isParked(a)&&setTimeout(function(){a.getThreadPool().isParked(a)&&a.getThreadPool().completelyUnpark(a)},e)},a["getLoadAverage([DI)I"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),0},a["shouldBeInitialized(Ljava/lang/Class;)Z"]=function(a,b,c){return c.$cls.isInitialized(a)?0:1},a["defineAnonymousClass(Ljava/lang/Class;[B[Ljava/lang/Object;)Ljava/lang/Class;"]=function(a,b,c,e,f){return new d.ReferenceClassData(new Buffer(e.array),c.$cls.getLoader(),f).getClassObject(a)},a["compareAndSwapObject(Ljava/lang/Object;JLjava/lang/Object;Ljava/lang/Object;)Z"]=g,a["compareAndSwapInt(Ljava/lang/Object;JII)Z"]=g,a["compareAndSwapLong(Ljava/lang/Object;JJJ)Z"]=g,a}(),n=function(){function a(){}return a["getJvmSpecialVersion()Ljava/lang/String;"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),null},a["getJdkSpecialVersion()Ljava/lang/String;"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),null},a["getJvmVersionInfo()Z"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),0},a["getJdkVersionInfo()V"]=function(a){a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented.")},a}(),o=function(){function a(){}return a["initialize()V"]=function(a){var b=a.getBsCl().getInitializedClass(a,"Lsun/misc/VM;");if(!(b.majorVersion<51)){var d=a.getBsCl().getInitializedClass(a,"Ljava/util/Properties;"),e=new c.JavaObject(d),f=d.getMethod("<init>()V");a.setStatus(7),a.runMethod(f,[e],function(c){c?a.throwException(c):(b.staticPut(a,"savedProps",e),a.asyncReturn())})}},a["latestUserDefinedLoader()Ljava/lang/ClassLoader;"]=function(a){var b,c,d=a.getStackTrace(),e=a.getBsCl();for(b=d.length-1;b>=0;b--)if(c=d[b].method.cls.getLoader(),c!==e)return c.getLoaderObject();return null},a}(),p=function(){function a(){}return a["initAgentProperties(Ljava/util/Properties;)Ljava/util/Properties;"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),null},a}();registerNatives({"sun/misc/GC":h,"sun/misc/MessageUtils":i,"sun/misc/NativeSignalHandler":j,"sun/misc/Perf":k,"sun/misc/Signal":l,"sun/misc/Unsafe":m,"sun/misc/Version":n,"sun/misc/VM":o,"sun/misc/VMSupport":p})});