define(["require","exports","../java_object","../util","../enums"],function(a,b,c,d){function e(a,b){for(var c=a.getStackTrace(),d=c.length-1-b,e=c[d];0===e.method.full_signature().indexOf("Ljava/lang/reflect/Method;::invoke");){if(0===d)return null;e=c[--d]}return e.method.cls.getClassObject(a)}var f=function(){function a(){}return a["getSize0(Ljava/lang/Object;)I"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),0},a["getClassAt0(Ljava/lang/Object;I)Ljava/lang/Class;"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),null},a["getClassAtIfLoaded0(Ljava/lang/Object;I)Ljava/lang/Class;"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),null},a["getMethodAt0(Ljava/lang/Object;I)Ljava/lang/reflect/Member;"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),null},a["getMethodAtIfLoaded0(Ljava/lang/Object;I)Ljava/lang/reflect/Member;"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),null},a["getFieldAt0(Ljava/lang/Object;I)Ljava/lang/reflect/Field;"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),null},a["getFieldAtIfLoaded0(Ljava/lang/Object;I)Ljava/lang/reflect/Field;"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),null},a["getMemberRefInfoAt0(Ljava/lang/Object;I)[Ljava/lang/String;"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),null},a["getIntAt0(Ljava/lang/Object;I)I"]=function(a,b,c,d){return c.get(d).value},a["getLongAt0(Ljava/lang/Object;I)J"]=function(a,b,c,d){var e=c.get_field(a,"Lsun/reflect/ConstantPool;constantPoolOop");return e.get(d).value},a["getFloatAt0(Ljava/lang/Object;I)F"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),0},a["getDoubleAt0(Ljava/lang/Object;I)D"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),0},a["getStringAt0(Ljava/lang/Object;I)Ljava/lang/String;"]=function(a){return a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method not implemented."),null},a["getUTF8At0(Ljava/lang/Object;I)Ljava/lang/String;"]=function(a,b,d,e){return c.initString(a.getBsCl(),d.get(e).value)},a}(),g=function(){function a(){}return a["newInstance0(Ljava/lang/reflect/Constructor;[Ljava/lang/Object;)Ljava/lang/Object;"]=function(a,b,e){var f=b.get_field(a,"Ljava/lang/reflect/Constructor;clazz"),g=b.get_field(a,"Ljava/lang/reflect/Constructor;slot");a.setStatus(7),f.$cls.initialize(a,function(f){if(null!==f){var h=f.getMethodFromSlot(g),i=new c.JavaObject(f),j=[i];-1===g&&(h=f.methodLookup(a,"<init>"+d.getDescriptorString(a.getBsCl().getInitializedClass(a,"V").getClassObject(a),b.get_field(a,"Ljava/lang/reflect/Constructor;parameterTypes")))),null!==e&&(j=j.concat(e.array)),a.runMethod(h,j,function(b){b?a.getBsCl().initializeClass(a,"Ljava/lang/reflect/InvocationTargetException;",function(d){if(null!==d){var e=new c.JavaObject(d);a.runMethod(d.methodLookup(a,"<init>(Ljava/lang/Throwable;)V"),[e,b],function(b){a.throwException(b?b:e)})}}):a.asyncReturn(i)})}},!0)},a}(),h=function(){function a(){}return a["invoke0(Ljava/lang/reflect/Method;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;"]=function(a,b,e,f){var g=b.get_field(a,"Ljava/lang/reflect/Method;clazz").$cls,h=b.get_field(a,"Ljava/lang/reflect/Method;slot"),i=b.get_field(a,"Ljava/lang/reflect/Method;returnType"),j=g.getMethodFromSlot(h),k=[];g.accessFlags.isInterface()&&(j=e.cls.methodLookup(a,j.name+j.raw_descriptor),null==j)||(j.accessFlags.isStatic()||k.push(e),null!=f&&(k=k.concat(d.unboxArguments(a,j.param_types,f.array))),a.setStatus(7),a.runMethod(j,k,function(b,e){b?a.getBsCl().initializeClass(a,"Ljava/lang/reflect/InvocationTargetException;",function(d){if(null!==d){var e=new c.JavaObject(d);a.runMethod(d.methodLookup(a,"<init>(Ljava/lang/Throwable;)V"),[e,b],function(b){a.throwException(b?b:e)})}}):a.asyncReturn(d.is_primitive_type(j.return_type)?"V"===j.return_type?null:i.$cls.createWrapperObject(a,e):e)}))},a}(),i=function(){function a(){}return a["getCallerClass()Ljava/lang/Class;"]=function(a){return e(a,2)},a["getClassAccessFlags(Ljava/lang/Class;)I"]=function(a,b){return b.$cls.accessFlags.getRawByte()},a["getCallerClass(I)Ljava/lang/Class;"]=e,a}();registerNatives({"sun/reflect/ConstantPool":f,"sun/reflect/NativeConstructorAccessorImpl":g,"sun/reflect/NativeMethodAccessorImpl":h,"sun/reflect/Reflection":i})});